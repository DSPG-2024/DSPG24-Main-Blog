<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Housing and AI">
<meta name="dcterms.date" content="2024-06-07">

<title>Housing and AI Week Two – DSPG 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<link href="../../../site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="../../../site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="../../../site_libs/plotly-binding-4.10.4/plotly.js"></script>
<script src="../../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../../site_libs/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet">
<script src="../../../site_libs/crosstalk-1.2.1/js/crosstalk.min.js"></script>
<link href="../../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">DSPG 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../allBlogs.html"> 
<span class="menu-text">Project Blogs</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-student-blogs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Student Blogs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-student-blogs">    
        <li>
    <a class="dropdown-item" href="../../../participants.html">
 <span class="dropdown-text">All Participants</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/harun.html">
 <span class="dropdown-text">Harun Celik</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/solomon.html">
 <span class="dropdown-text">Solomon Eshun</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/tabassum.html">
 <span class="dropdown-text">Tabassum Zaman</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/karthik.html">
 <span class="dropdown-text">Karthik Hanumanthaiah</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/blake.html">
 <span class="dropdown-text">Blake Underwood</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/cael.html">
 <span class="dropdown-text">Cael Leistikow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/neha.html">
 <span class="dropdown-text">Neha Tirunagiri</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/naomi.html">
 <span class="dropdown-text">Naomi Mauss</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/manjul.html">
 <span class="dropdown-text">Manjul Balayar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/alister.html">
 <span class="dropdown-text">Alister Gan</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/nhat.html">
 <span class="dropdown-text">Nhat Le</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/joseph.html">
 <span class="dropdown-text">Joseph Betti</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/lily.html">
 <span class="dropdown-text">Lily Christenson</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html" target="_blank"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DSPG-2024"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Housing and AI Week Two</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Week Two</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Housing and AI </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 7, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#data-exploration-for-population-density" id="toc-data-exploration-for-population-density" class="nav-link active" data-scroll-target="#data-exploration-for-population-density">Data Exploration for Population Density</a></li>
  <li><a href="#data-exploration-for-income" id="toc-data-exploration-for-income" class="nav-link" data-scroll-target="#data-exploration-for-income">Data Exploration for Income</a></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a></li>
  <li><a href="#data-exploration-on-age-distribution" id="toc-data-exploration-on-age-distribution" class="nav-link" data-scroll-target="#data-exploration-on-age-distribution">Data Exploration on Age Distribution</a></li>
  <li><a href="#llamaindex" id="toc-llamaindex" class="nav-link" data-scroll-target="#llamaindex">llamaIndex</a></li>
  <li><a href="#for-fun" id="toc-for-fun" class="nav-link" data-scroll-target="#for-fun">For Fun</a></li>
  <li><a href="#sources" id="toc-sources" class="nav-link" data-scroll-target="#sources">Sources</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="data-exploration-for-population-density" class="level2">
<h2 class="anchored" data-anchor-id="data-exploration-for-population-density">Data Exploration for Population Density</h2>
<p>This week we continued looking for data for the smallest unit of area we could.</p>
<p>On the side of population density, we were able to find data down to the house/parcel level for Des Moines and we were able to go ahead and display them along with the census block groups and all residential zones in the Des Moines area as shown in the figure below. We can do the same with the blocks as well.</p>
<p><a href="imgs/DM.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="imgs/DM.png" class="img-fluid"></a></p>
<p>From here we wanted to see if we could find data of the same variety for smaller communities rather than just larger cities so our eventual model isn’t biased. Luckily, the Des Moines Data Portal stretches across the entire Des Moines Metropolitan Area which meant we could get data for smaller communities such as Ackworth that has a population of 115.</p>
<p><a href="imgs/Ackworth.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="imgs/Ackworth.png" class="img-fluid"></a></p>
<p><a href="imgs/Ackworth2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="imgs/Ackworth2.png" class="img-fluid"></a></p>
<p>However, we realized we don’t just want communities around the Des Moines Metro and still wanted to reach smaller community data. After some research we found that Iowa has a free GIS database (<a href="https://www.iowagisdata.org/" class="uri">https://www.iowagisdata.org/</a>) that contains information for numerous counties and cities down to the parcel and building level. One county that we found may be helpful is Winneshiek County as it is in a more rural area of the state away from most metro and micropolitan areas.</p>
<p><a href="imgs/Decorah.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="imgs/Decorah.png" class="img-fluid"></a></p>
<p>The image above is showing all residential buildings in Decorah, but the database has access to so many more communities and levels of data that will continued to be explored.</p>
<p>We were also able to get a way to calculate population density of our blocks and block groups using tidycensus.</p>
<p><a href="imgs/Density.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="imgs/Density.png" class="img-fluid"></a></p>
<p>We also wanted to look into transportation data, however outside of getting routes and stops we couldn’t find much. Additionally, after talking to Omar Padilla this makes sense as most people just don’t prefer to use public transit compared to their own car in Iowa even in the bigger cities like Des Moines which is why much data isn’t available</p>
</section>
<section id="data-exploration-for-income" class="level1">
<h1>Data Exploration for Income</h1>
<p>We are working on the Income side of housing AI.</p>
<p>Our Idea was to get the data which goses to the extent of Housing units, However when it came to Income we were not able to find the data which even goes to block level, so the only choice for us was to the get the Household income data for which was available in block group level.</p>
<p>In the meantime we were looking on other datasets from different websites if they have any information on income which goes till the block level and fortunately we came over a dataset in HUD website which has the street level data to some extent but it didn’t have complete information but it might be useful for us in the long term.</p>
<p>We have few more datasets to explore and get to a conclusion.</p>
</section>
<section id="data-visualization" class="level1">
<h1>Data Visualization</h1>
<p>For the Data visualization I got introduced to folium library which is a powerful Python library that helps us create several types of Leaflet maps.</p>
<p>I tried ploting a map with Household Income data for Des Moines city, my main idea was to find the low income unites in that area.</p>
<p><a href="Des_Moines_Income_Map.html" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><embed src="Des_Moines_Income_Map.html" style="width:100.0%" height="800"></a></p>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item" id="htmlwidget-ac6848df422f441ab580" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-ac6848df422f441ab580">{"x":{"visdat":{"1b80400a32ea":["function () ","plotlyVisDat"]},"cur_data":"1b80400a32ea","attrs":{"1b80400a32ea":{"x":{},"y":{},"marker":{"color":"rgba(50, 171, 96, 0.6)","line":{"color":"rgba(50, 171, 96, 1.0)","width":1}},"hoverinfo":"text","text":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":150,"l":60,"t":25,"r":10},"title":"Total Low Income units per Block Group in Des Moines","yaxis":{"domain":[0,1],"automargin":true,"type":"log","title":"Total Low Income units (log scale)"},"xaxis":{"domain":[0,1],"automargin":true,"title":"Block Group Name","type":"category","categoryorder":"array","categoryarray":["BG 1, Tract 1.01, Polk, IA","BG 1, Tract 1.02, Polk, IA","BG 1, Tract 1.03, Polk, IA","BG 1, Tract 10, Polk, IA","BG 1, Tract 105, Polk, IA","BG 1, Tract 106.02, Polk, IA","BG 1, Tract 108.05, Polk, IA","BG 1, Tract 108.06, Polk, IA","BG 1, Tract 11, Polk, IA","BG 1, Tract 110.28, Polk, IA","BG 1, Tract 116, Polk, IA","BG 1, Tract 12, Polk, IA","BG 1, Tract 15, Polk, IA","BG 1, Tract 17, Polk, IA","BG 1, Tract 18, Polk, IA","BG 1, Tract 19, Polk, IA","BG 1, Tract 2.01, Polk, IA","BG 1, Tract 2.02, Polk, IA","BG 1, Tract 201.01, Warren, IA","BG 1, Tract 202.01, Warren, IA","BG 1, Tract 203, Warren, IA","BG 1, Tract 21, Polk, IA","BG 1, Tract 26, Polk, IA","BG 1, Tract 27, Polk, IA","BG 1, Tract 28, Polk, IA","BG 1, Tract 29, Polk, IA","BG 1, Tract 3, Polk, IA","BG 1, Tract 30.01, Polk, IA","BG 1, Tract 30.02, Polk, IA","BG 1, Tract 31, Polk, IA","BG 1, Tract 32, Polk, IA","BG 1, Tract 39.01, Polk, IA","BG 1, Tract 39.02, Polk, IA","BG 1, Tract 4, Polk, IA","BG 1, Tract 40.01, Polk, IA","BG 1, Tract 40.04, Polk, IA","BG 1, Tract 41, Polk, IA","BG 1, Tract 42, Polk, IA","BG 1, Tract 43, Polk, IA","BG 1, Tract 44, Polk, IA","BG 1, Tract 45.01, Polk, IA","BG 1, Tract 45.02, Polk, IA","BG 1, Tract 46.02, Polk, IA","BG 1, Tract 46.03, Polk, IA","BG 1, Tract 47.01, Polk, IA","BG 1, Tract 47.02, Polk, IA","BG 1, Tract 48, Polk, IA","BG 1, Tract 49, Polk, IA","BG 1, Tract 5, Polk, IA","BG 1, Tract 50, Polk, IA","BG 1, Tract 51.01, Polk, IA","BG 1, Tract 51.02, Polk, IA","BG 1, Tract 52, Polk, IA","BG 1, Tract 53, Polk, IA","BG 1, Tract 6, Polk, IA","BG 1, Tract 7.01, Polk, IA","BG 1, Tract 7.02, Polk, IA","BG 1, Tract 7.03, Polk, IA","BG 1, Tract 7.04, Polk, IA","BG 1, Tract 8.01, Polk, IA","BG 1, Tract 8.02, Polk, IA","BG 1, Tract 8.03, Polk, IA","BG 1, Tract 9.01, Polk, IA","BG 1, Tract 9.02, Polk, IA","BG 2, Tract 1.01, Polk, IA","BG 2, Tract 1.02, Polk, IA","BG 2, Tract 1.03, Polk, IA","BG 2, Tract 10, Polk, IA","BG 2, Tract 106.01, Polk, IA","BG 2, Tract 106.02, Polk, IA","BG 2, Tract 108.05, Polk, IA","BG 2, Tract 108.06, Polk, IA","BG 2, Tract 11, Polk, IA","BG 2, Tract 12, Polk, IA","BG 2, Tract 15, Polk, IA","BG 2, Tract 17, Polk, IA","BG 2, Tract 18, Polk, IA","BG 2, Tract 19, Polk, IA","BG 2, Tract 2.01, Polk, IA","BG 2, Tract 2.02, Polk, IA","BG 2, Tract 204, Warren, IA","BG 2, Tract 21, Polk, IA","BG 2, Tract 27, Polk, IA","BG 2, Tract 28, Polk, IA","BG 2, Tract 29, Polk, IA","BG 2, Tract 3, Polk, IA","BG 2, Tract 30.01, Polk, IA","BG 2, Tract 30.02, Polk, IA","BG 2, Tract 32, Polk, IA","BG 2, Tract 39.01, Polk, IA","BG 2, Tract 39.02, Polk, IA","BG 2, Tract 4, Polk, IA","BG 2, Tract 40.01, Polk, IA","BG 2, Tract 40.04, Polk, IA","BG 2, Tract 41, Polk, IA","BG 2, Tract 42, Polk, IA","BG 2, Tract 43, Polk, IA","BG 2, Tract 44, Polk, IA","BG 2, Tract 45.01, Polk, IA","BG 2, Tract 45.02, Polk, IA","BG 2, Tract 46.02, Polk, IA","BG 2, Tract 46.03, Polk, IA","BG 2, Tract 47.01, Polk, IA","BG 2, Tract 47.02, Polk, IA","BG 2, Tract 48, Polk, IA","BG 2, Tract 49, Polk, IA","BG 2, Tract 5, Polk, IA","BG 2, Tract 50, Polk, IA","BG 2, Tract 51.01, Polk, IA","BG 2, Tract 52, Polk, IA","BG 2, Tract 53, Polk, IA","BG 2, Tract 6, Polk, IA","BG 2, Tract 7.01, Polk, IA","BG 2, Tract 7.02, Polk, IA","BG 2, Tract 7.03, Polk, IA","BG 2, Tract 7.04, Polk, IA","BG 2, Tract 8.01, Polk, IA","BG 2, Tract 8.02, Polk, IA","BG 2, Tract 8.03, Polk, IA","BG 2, Tract 9.01, Polk, IA","BG 2, Tract 9.02, Polk, IA","BG 3, Tract 1.02, Polk, IA","BG 3, Tract 10, Polk, IA","BG 3, Tract 105, Polk, IA","BG 3, Tract 106.02, Polk, IA","BG 3, Tract 107.07, Polk, IA","BG 3, Tract 108.06, Polk, IA","BG 3, Tract 11, Polk, IA","BG 3, Tract 12, Polk, IA","BG 3, Tract 19, Polk, IA","BG 3, Tract 2.02, Polk, IA","BG 3, Tract 21, Polk, IA","BG 3, Tract 27, Polk, IA","BG 3, Tract 28, Polk, IA","BG 3, Tract 29, Polk, IA","BG 3, Tract 3, Polk, IA","BG 3, Tract 30.02, Polk, IA","BG 3, Tract 4, Polk, IA","BG 3, Tract 43, Polk, IA","BG 3, Tract 44, Polk, IA","BG 3, Tract 45.01, Polk, IA","BG 3, Tract 46.02, Polk, IA","BG 3, Tract 46.03, Polk, IA","BG 3, Tract 47.01, Polk, IA","BG 3, Tract 5, Polk, IA","BG 3, Tract 50, Polk, IA","BG 3, Tract 51.01, Polk, IA","BG 3, Tract 52, Polk, IA","BG 3, Tract 53, Polk, IA","BG 3, Tract 6, Polk, IA","BG 3, Tract 7.01, Polk, IA","BG 3, Tract 7.02, Polk, IA","BG 3, Tract 7.03, Polk, IA","BG 3, Tract 7.04, Polk, IA","BG 3, Tract 8.01, Polk, IA","BG 3, Tract 8.02, Polk, IA","BG 3, Tract 8.03, Polk, IA","BG 3, Tract 9.01, Polk, IA","BG 3, Tract 9.02, Polk, IA","BG 4, Tract 10, Polk, IA","BG 4, Tract 11, Polk, IA","BG 4, Tract 19, Polk, IA","BG 4, Tract 2.02, Polk, IA","BG 4, Tract 21, Polk, IA","BG 4, Tract 27, Polk, IA","BG 4, Tract 28, Polk, IA","BG 4, Tract 29, Polk, IA","BG 4, Tract 3, Polk, IA","BG 4, Tract 30.02, Polk, IA","BG 4, Tract 4, Polk, IA","BG 4, Tract 43, Polk, IA","BG 4, Tract 44, Polk, IA","BG 4, Tract 46.02, Polk, IA","BG 4, Tract 46.03, Polk, IA","BG 4, Tract 47.01, Polk, IA","BG 4, Tract 5, Polk, IA","BG 4, Tract 50, Polk, IA","BG 4, Tract 51.01, Polk, IA","BG 4, Tract 6, Polk, IA","BG 4, Tract 7.04, Polk, IA","BG 4, Tract 8.01, Polk, IA","BG 4, Tract 8.03, Polk, IA","BG 4, Tract 9.01, Polk, IA","BG 5, Tract 19, Polk, IA","BG 5, Tract 21, Polk, IA","BG 5, Tract 4, Polk, IA","BG 5, Tract 43, Polk, IA","BG 5, Tract 46.02, Polk, IA","BG 5, Tract 47.01, Polk, IA","BG 5, Tract 5, Polk, IA","BG 5, Tract 51.01, Polk, IA","BG 5, Tract 8.01, Polk, IA","BG 6, Tract 21, Polk, IA","BG 6, Tract 8.01, Polk, IA"]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["BG 1, Tract 1.01, Polk, IA","BG 2, Tract 1.01, Polk, IA","BG 1, Tract 1.02, Polk, IA","BG 2, Tract 1.02, Polk, IA","BG 3, Tract 1.02, Polk, IA","BG 1, Tract 1.03, Polk, IA","BG 2, Tract 1.03, Polk, IA","BG 1, Tract 2.01, Polk, IA","BG 2, Tract 2.01, Polk, IA","BG 1, Tract 2.02, Polk, IA","BG 2, Tract 2.02, Polk, IA","BG 3, Tract 2.02, Polk, IA","BG 4, Tract 2.02, Polk, IA","BG 1, Tract 3, Polk, IA","BG 2, Tract 3, Polk, IA","BG 3, Tract 3, Polk, IA","BG 4, Tract 3, Polk, IA","BG 1, Tract 4, Polk, IA","BG 2, Tract 4, Polk, IA","BG 3, Tract 4, Polk, IA","BG 4, Tract 4, Polk, IA","BG 5, Tract 4, Polk, IA","BG 1, Tract 5, Polk, IA","BG 2, Tract 5, Polk, IA","BG 3, Tract 5, Polk, IA","BG 4, Tract 5, Polk, IA","BG 5, Tract 5, Polk, IA","BG 1, Tract 6, Polk, IA","BG 2, Tract 6, Polk, IA","BG 3, Tract 6, Polk, IA","BG 4, Tract 6, Polk, IA","BG 1, Tract 7.01, Polk, IA","BG 2, Tract 7.01, Polk, IA","BG 3, Tract 7.01, Polk, IA","BG 1, Tract 7.02, Polk, IA","BG 2, Tract 7.02, Polk, IA","BG 3, Tract 7.02, Polk, IA","BG 1, Tract 7.03, Polk, IA","BG 2, Tract 7.03, Polk, IA","BG 3, Tract 7.03, Polk, IA","BG 1, Tract 7.04, Polk, IA","BG 2, Tract 7.04, Polk, IA","BG 3, Tract 7.04, Polk, IA","BG 4, Tract 7.04, Polk, IA","BG 1, Tract 8.01, Polk, IA","BG 2, Tract 8.01, Polk, IA","BG 3, Tract 8.01, Polk, IA","BG 4, Tract 8.01, Polk, IA","BG 5, Tract 8.01, Polk, IA","BG 6, Tract 8.01, Polk, IA","BG 1, Tract 8.02, Polk, IA","BG 2, Tract 8.02, Polk, IA","BG 3, Tract 8.02, Polk, IA","BG 1, Tract 8.03, Polk, IA","BG 2, Tract 8.03, Polk, IA","BG 3, Tract 8.03, Polk, IA","BG 4, Tract 8.03, Polk, IA","BG 1, Tract 9.01, Polk, IA","BG 2, Tract 9.01, Polk, IA","BG 3, Tract 9.01, Polk, IA","BG 4, Tract 9.01, Polk, IA","BG 1, Tract 9.02, Polk, IA","BG 2, Tract 9.02, Polk, IA","BG 3, Tract 9.02, Polk, IA","BG 1, Tract 10, Polk, IA","BG 2, Tract 10, Polk, IA","BG 3, Tract 10, Polk, IA","BG 4, Tract 10, Polk, IA","BG 1, Tract 11, Polk, IA","BG 2, Tract 11, Polk, IA","BG 3, Tract 11, Polk, IA","BG 4, Tract 11, Polk, IA","BG 1, Tract 12, Polk, IA","BG 2, Tract 12, Polk, IA","BG 3, Tract 12, Polk, IA","BG 1, Tract 15, Polk, IA","BG 2, Tract 15, Polk, IA","BG 1, Tract 17, Polk, IA","BG 2, Tract 17, Polk, IA","BG 1, Tract 18, Polk, IA","BG 2, Tract 18, Polk, IA","BG 1, Tract 19, Polk, IA","BG 2, Tract 19, Polk, IA","BG 3, Tract 19, Polk, IA","BG 4, Tract 19, Polk, IA","BG 5, Tract 19, Polk, IA","BG 1, Tract 21, Polk, IA","BG 2, Tract 21, Polk, IA","BG 3, Tract 21, Polk, IA","BG 4, Tract 21, Polk, IA","BG 5, Tract 21, Polk, IA","BG 6, Tract 21, Polk, IA","BG 1, Tract 26, Polk, IA","BG 1, Tract 27, Polk, IA","BG 2, Tract 27, Polk, IA","BG 3, Tract 27, Polk, IA","BG 4, Tract 27, Polk, IA","BG 1, Tract 28, Polk, IA","BG 2, Tract 28, Polk, IA","BG 3, Tract 28, Polk, IA","BG 4, Tract 28, Polk, IA","BG 1, Tract 29, Polk, IA","BG 2, Tract 29, Polk, IA","BG 3, Tract 29, Polk, IA","BG 4, Tract 29, Polk, IA","BG 1, Tract 30.01, Polk, IA","BG 2, Tract 30.01, Polk, IA","BG 1, Tract 30.02, Polk, IA","BG 2, Tract 30.02, Polk, IA","BG 3, Tract 30.02, Polk, IA","BG 4, Tract 30.02, Polk, IA","BG 1, Tract 31, Polk, IA","BG 1, Tract 32, Polk, IA","BG 2, Tract 32, Polk, IA","BG 1, Tract 39.01, Polk, IA","BG 2, Tract 39.01, Polk, IA","BG 1, Tract 39.02, Polk, IA","BG 2, Tract 39.02, Polk, IA","BG 1, Tract 40.01, Polk, IA","BG 2, Tract 40.01, Polk, IA","BG 1, Tract 40.04, Polk, IA","BG 2, Tract 40.04, Polk, IA","BG 1, Tract 41, Polk, IA","BG 2, Tract 41, Polk, IA","BG 1, Tract 42, Polk, IA","BG 2, Tract 42, Polk, IA","BG 1, Tract 43, Polk, IA","BG 2, Tract 43, Polk, IA","BG 3, Tract 43, Polk, IA","BG 4, Tract 43, Polk, IA","BG 5, Tract 43, Polk, IA","BG 1, Tract 44, Polk, IA","BG 2, Tract 44, Polk, IA","BG 3, Tract 44, Polk, IA","BG 4, Tract 44, Polk, IA","BG 1, Tract 45.01, Polk, IA","BG 2, Tract 45.01, Polk, IA","BG 3, Tract 45.01, Polk, IA","BG 1, Tract 45.02, Polk, IA","BG 2, Tract 45.02, Polk, IA","BG 1, Tract 46.02, Polk, IA","BG 2, Tract 46.02, Polk, IA","BG 3, Tract 46.02, Polk, IA","BG 4, Tract 46.02, Polk, IA","BG 5, Tract 46.02, Polk, IA","BG 1, Tract 46.03, Polk, IA","BG 2, Tract 46.03, Polk, IA","BG 3, Tract 46.03, Polk, IA","BG 4, Tract 46.03, Polk, IA","BG 1, Tract 47.01, Polk, IA","BG 2, Tract 47.01, Polk, IA","BG 3, Tract 47.01, Polk, IA","BG 4, Tract 47.01, Polk, IA","BG 5, Tract 47.01, Polk, IA","BG 1, Tract 47.02, Polk, IA","BG 2, Tract 47.02, Polk, IA","BG 1, Tract 48, Polk, IA","BG 2, Tract 48, Polk, IA","BG 1, Tract 49, Polk, IA","BG 2, Tract 49, Polk, IA","BG 1, Tract 50, Polk, IA","BG 2, Tract 50, Polk, IA","BG 3, Tract 50, Polk, IA","BG 4, Tract 50, Polk, IA","BG 1, Tract 51.01, Polk, IA","BG 2, Tract 51.01, Polk, IA","BG 3, Tract 51.01, Polk, IA","BG 4, Tract 51.01, Polk, IA","BG 5, Tract 51.01, Polk, IA","BG 1, Tract 51.02, Polk, IA","BG 1, Tract 52, Polk, IA","BG 2, Tract 52, Polk, IA","BG 3, Tract 52, Polk, IA","BG 1, Tract 53, Polk, IA","BG 2, Tract 53, Polk, IA","BG 3, Tract 53, Polk, IA","BG 1, Tract 105, Polk, IA","BG 3, Tract 105, Polk, IA","BG 2, Tract 106.01, Polk, IA","BG 1, Tract 106.02, Polk, IA","BG 2, Tract 106.02, Polk, IA","BG 3, Tract 106.02, Polk, IA","BG 3, Tract 107.07, Polk, IA","BG 1, Tract 108.05, Polk, IA","BG 2, Tract 108.05, Polk, IA","BG 1, Tract 108.06, Polk, IA","BG 2, Tract 108.06, Polk, IA","BG 3, Tract 108.06, Polk, IA","BG 1, Tract 110.28, Polk, IA","BG 1, Tract 116, Polk, IA","BG 1, Tract 201.01, Warren, IA","BG 1, Tract 202.01, Warren, IA","BG 1, Tract 203, Warren, IA","BG 2, Tract 204, Warren, IA"],"y":[727,234,170,79,127,116,116,286,200,175,95,85,81,180,60,153,200,165,149,246,199,127,150,193,264,172,139,216,143,119,86,251,83,213,176,66,306,201,23,180,59,160,93,50,41,60,117,103,206,13,101,285,68,259,99,27,436,60,85,130,116,63,114,228,125,127,397,70,171,352,169,118,179,74,347,115,286,247,220,138,156,163,177,128,146,211,122,159,164,92,61,189,622,216,252,219,355,230,121,193,76,358,346,416,15,138,77,70,39,23,138,161,220,254,152,563,231,275,223,455,34,227,224,186,520,241,97,114,8,74,169,205,41,140,211,62,438,133,254,199,859,151,161,274,247,123,251,143,84,180,68,227,112,184,282,474,282,188,319,126,200,137,220,161,233,572,213,975,61,337,71,191,369,138,63,149,235,340,252,152,348,137,79,233,175,609,131,51,55,0,276,272,74,285],"marker":{"color":"rgba(50, 171, 96, 0.6)","line":{"color":"rgba(50, 171, 96, 1.0)","width":1}},"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"text":["Total Low Income units:  727","Total Low Income units:  234","Total Low Income units:  170","Total Low Income units:  79","Total Low Income units:  127","Total Low Income units:  116","Total Low Income units:  116","Total Low Income units:  286","Total Low Income units:  200","Total Low Income units:  175","Total Low Income units:  95","Total Low Income units:  85","Total Low Income units:  81","Total Low Income units:  180","Total Low Income units:  60","Total Low Income units:  153","Total Low Income units:  200","Total Low Income units:  165","Total Low Income units:  149","Total Low Income units:  246","Total Low Income units:  199","Total Low Income units:  127","Total Low Income units:  150","Total Low Income units:  193","Total Low Income units:  264","Total Low Income units:  172","Total Low Income units:  139","Total Low Income units:  216","Total Low Income units:  143","Total Low Income units:  119","Total Low Income units:  86","Total Low Income units:  251","Total Low Income units:  83","Total Low Income units:  213","Total Low Income units:  176","Total Low Income units:  66","Total Low Income units:  306","Total Low Income units:  201","Total Low Income units:  23","Total Low Income units:  180","Total Low Income units:  59","Total Low Income units:  160","Total Low Income units:  93","Total Low Income units:  50","Total Low Income units:  41","Total Low Income units:  60","Total Low Income units:  117","Total Low Income units:  103","Total Low Income units:  206","Total Low Income units:  13","Total Low Income units:  101","Total Low Income units:  285","Total Low Income units:  68","Total Low Income units:  259","Total Low Income units:  99","Total Low Income units:  27","Total Low Income units:  436","Total Low Income units:  60","Total Low Income units:  85","Total Low Income units:  130","Total Low Income units:  116","Total Low Income units:  63","Total Low Income units:  114","Total Low Income units:  228","Total Low Income units:  125","Total Low Income units:  127","Total Low Income units:  397","Total Low Income units:  70","Total Low Income units:  171","Total Low Income units:  352","Total Low Income units:  169","Total Low Income units:  118","Total Low Income units:  179","Total Low Income units:  74","Total Low Income units:  347","Total Low Income units:  115","Total Low Income units:  286","Total Low Income units:  247","Total Low Income units:  220","Total Low Income units:  138","Total Low Income units:  156","Total Low Income units:  163","Total Low Income units:  177","Total Low Income units:  128","Total Low Income units:  146","Total Low Income units:  211","Total Low Income units:  122","Total Low Income units:  159","Total Low Income units:  164","Total Low Income units:  92","Total Low Income units:  61","Total Low Income units:  189","Total Low Income units:  622","Total Low Income units:  216","Total Low Income units:  252","Total Low Income units:  219","Total Low Income units:  355","Total Low Income units:  230","Total Low Income units:  121","Total Low Income units:  193","Total Low Income units:  76","Total Low Income units:  358","Total Low Income units:  346","Total Low Income units:  416","Total Low Income units:  15","Total Low Income units:  138","Total Low Income units:  77","Total Low Income units:  70","Total Low Income units:  39","Total Low Income units:  23","Total Low Income units:  138","Total Low Income units:  161","Total Low Income units:  220","Total Low Income units:  254","Total Low Income units:  152","Total Low Income units:  563","Total Low Income units:  231","Total Low Income units:  275","Total Low Income units:  223","Total Low Income units:  455","Total Low Income units:  34","Total Low Income units:  227","Total Low Income units:  224","Total Low Income units:  186","Total Low Income units:  520","Total Low Income units:  241","Total Low Income units:  97","Total Low Income units:  114","Total Low Income units:  8","Total Low Income units:  74","Total Low Income units:  169","Total Low Income units:  205","Total Low Income units:  41","Total Low Income units:  140","Total Low Income units:  211","Total Low Income units:  62","Total Low Income units:  438","Total Low Income units:  133","Total Low Income units:  254","Total Low Income units:  199","Total Low Income units:  859","Total Low Income units:  151","Total Low Income units:  161","Total Low Income units:  274","Total Low Income units:  247","Total Low Income units:  123","Total Low Income units:  251","Total Low Income units:  143","Total Low Income units:  84","Total Low Income units:  180","Total Low Income units:  68","Total Low Income units:  227","Total Low Income units:  112","Total Low Income units:  184","Total Low Income units:  282","Total Low Income units:  474","Total Low Income units:  282","Total Low Income units:  188","Total Low Income units:  319","Total Low Income units:  126","Total Low Income units:  200","Total Low Income units:  137","Total Low Income units:  220","Total Low Income units:  161","Total Low Income units:  233","Total Low Income units:  572","Total Low Income units:  213","Total Low Income units:  975","Total Low Income units:  61","Total Low Income units:  337","Total Low Income units:  71","Total Low Income units:  191","Total Low Income units:  369","Total Low Income units:  138","Total Low Income units:  63","Total Low Income units:  149","Total Low Income units:  235","Total Low Income units:  340","Total Low Income units:  252","Total Low Income units:  152","Total Low Income units:  348","Total Low Income units:  137","Total Low Income units:  79","Total Low Income units:  233","Total Low Income units:  175","Total Low Income units:  609","Total Low Income units:  131","Total Low Income units:  51","Total Low Income units:  55","Total Low Income units:  0","Total Low Income units:  276","Total Low Income units:  272","Total Low Income units:  74","Total Low Income units:  285"],"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</section>
<section id="data-exploration-on-age-distribution" class="level1">
<h1>Data Exploration on Age Distribution</h1>
<p>We continue to explore around different datasets that revolves around seniors (aged 65 and over) with a focus on datasets related to health. * Hospital of different cities in Iowa * Healthmap across Des Moines * Public and Private heath coverage across ages in Des Moines <img src="imgs/AgeDistribution.png" class="img-fluid"></p>
</section>
<section id="llamaindex" class="level1">
<h1>llamaIndex</h1>
<p>llamaindex is a framework that integrates the private data with public data for building applications using Large Language Models (LLM). <img src="imgs/llamaindex.png" class="img-fluid"> Testing out llamaindex on a housing policy of Iowa in 2018 <img src="imgs/llamaindex2.png" class="img-fluid"></p>
</section>
<section id="for-fun" class="level1">
<h1>For Fun</h1>
<p>Depression rate across Iowa <img src="imgs/HealthMap.png" class="img-fluid"><br>
</p>
</section>
<section id="sources" class="level1">
<h1>Sources</h1>
<ol type="1">
<li><a href="https://www.ahd.com/states/hospital_IA.html">Hospital Data in Iowa</a><br>
</li>
<li><a href="https://data.census.gov/table/ACSDT1Y2022.B27001?q=Des%20Moines%20city,%20Iowa%20Health&amp;g=050XX00US19153$1500000">Health Coverage</a><br>
</li>
<li><a href="https://experience.arcgis.com/experience/22c7182a162d45788dd52a2362f8ed65">Health Map in Iowa</a><br>
</li>
<li><a href="https://data.census.gov/table/ACSST1Y2022.S2704?q=Des%20Moines%20city,%20Iowa%20Health&amp;g=050XX00US19153$1500000">Public Health Coverage in Des Moines</a><br>
</li>
<li><a href="https://data.census.gov/table/ACSST1Y2022.S2703?q=Des%20Moines%20city,%20Iowa%20Health&amp;g=050XX00US19153$1500000">Private Health Coverage in Des Moines</a><br>
</li>
<li>IowaGISdata.org<br>
</li>
<li>Des Moines Data Portal</li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","selector":".lightbox","descPosition":"bottom","loop":false,"openEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>