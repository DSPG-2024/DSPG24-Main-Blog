<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.52">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Community Capitals">
<meta name="dcterms.date" content="2024-06-14">

<title>Community Capitals Week Three – DSPG 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">DSPG 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../allBlogs.html"> 
<span class="menu-text">Project Blogs</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-student-blogs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Student Blogs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-student-blogs">    
        <li>
    <a class="dropdown-item" href="../../../participants.html">
 <span class="dropdown-text">All Participants</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/harun.html">
 <span class="dropdown-text">Harun Celik</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/solomon.html">
 <span class="dropdown-text">Solomon Eshun</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/tabassum.html">
 <span class="dropdown-text">Tabassum Zaman</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/karthik.html">
 <span class="dropdown-text">Karthik Hanumanthaiah</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/blake.html">
 <span class="dropdown-text">Blake Underwood</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/cael.html">
 <span class="dropdown-text">Cael Leistikow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/neha.html">
 <span class="dropdown-text">Neha Tirunagiri</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/naomi.html">
 <span class="dropdown-text">Naomi Mauss</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/manjul.html">
 <span class="dropdown-text">Manjul Balayar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/alister.html">
 <span class="dropdown-text">Alister Gan</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/nhat.html">
 <span class="dropdown-text">Nhat Le</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/joseph.html">
 <span class="dropdown-text">Joseph Betti</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/lily.html">
 <span class="dropdown-text">Lily Christenson</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html" target="_blank"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DSPG-2024"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Community Capitals Week Three</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Week Three</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Community Capitals </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">June 14, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#week-goals" id="toc-week-goals" class="nav-link active" data-scroll-target="#week-goals">Week Goals</a></li>
  <li><a href="#social-and-cultural-capital-datasets" id="toc-social-and-cultural-capital-datasets" class="nav-link" data-scroll-target="#social-and-cultural-capital-datasets">Social and Cultural Capital Datasets</a>
  <ul class="collapse">
  <li><a href="#fbi-crime-reports" id="toc-fbi-crime-reports" class="nav-link" data-scroll-target="#fbi-crime-reports">FBI Crime Reports</a></li>
  <li><a href="#social-capital-atlas" id="toc-social-capital-atlas" class="nav-link" data-scroll-target="#social-capital-atlas">Social Capital Atlas</a></li>
  <li><a href="#iowa-public-library-statistics" id="toc-iowa-public-library-statistics" class="nav-link" data-scroll-target="#iowa-public-library-statistics">Iowa Public Library Statistics</a></li>
  <li><a href="#general-election-turnout" id="toc-general-election-turnout" class="nav-link" data-scroll-target="#general-election-turnout">2022 General Election Turnout</a></li>
  <li><a href="#exploration-of-arts-events-and-race" id="toc-exploration-of-arts-events-and-race" class="nav-link" data-scroll-target="#exploration-of-arts-events-and-race">Exploration of Arts, Events, and Race</a></li>
  <li><a href="#acs-datasets" id="toc-acs-datasets" class="nav-link" data-scroll-target="#acs-datasets">3 ACS Datasets</a></li>
  <li><a href="#merge-datasets-together" id="toc-merge-datasets-together" class="nav-link" data-scroll-target="#merge-datasets-together">Merge Datasets together</a></li>
  <li><a href="#race-ancestry-diversity-dataset" id="toc-race-ancestry-diversity-dataset" class="nav-link" data-scroll-target="#race-ancestry-diversity-dataset">Race &amp; Ancestry Diversity Dataset</a></li>
  <li><a href="#cultural-datasets" id="toc-cultural-datasets" class="nav-link" data-scroll-target="#cultural-datasets">Cultural Datasets</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="week-goals" class="level2">
<h2 class="anchored" data-anchor-id="week-goals">Week Goals</h2>
<p>This week we continued our work in the <strong>Community Capitals</strong> project and we are specifically still looking into the <strong><em>social</em></strong> and <strong><em>cultural</em></strong> capital measurements and datasets. Our goal this week was to transform raw datasets we collected for the measurements we came up with and transformed them so that we can use it as one of our indicators in the final data visualization web app. We then also looked at couple of other datasets that were already finalized by Solomon and we try to do some data exploratory and visualizations with them.</p>
</section>
<section id="social-and-cultural-capital-datasets" class="level2">
<h2 class="anchored" data-anchor-id="social-and-cultural-capital-datasets">Social and Cultural Capital Datasets</h2>
<section id="fbi-crime-reports" class="level3">
<h3 class="anchored" data-anchor-id="fbi-crime-reports">FBI Crime Reports</h3>
<p>We worked with the FBI Crime Reports dataset which consisted all the crimes reported in the year of 2021 for all offenses. There are a total of fifty different offenses in the dataset, but we primarily focused on four which were classified as the most violent crimes:</p>
<ol type="1">
<li>Murder: 11(Non-negligent)</li>
<li>Forcible Rape: 20</li>
<li>Robbery: 30</li>
<li>Aggravated Assault: 40</li>
</ol>
<p>We believed that these four in particular could be a strong measure for social capital. High rates of such crimes might indicate low levels of social cohesion, trust, and mutual aid among community members, which are key components of social capital.</p>
<p>The dataset initially consisted over 78 columns, with a lot of redundant columns but also followed a ‘wide’ format which was very hard to read, especially when trying to see the demographics on who committed the crime.</p>
<p><a href="./imgs/fbi_columns.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="./imgs/fbi_columns.png" class="img-fluid"></a></p>
<p>We then transformed this from a wide format to a long format, and we kept the total crime count for each offense in each county, as well as the crime count per 10k population. This way we have much less columns, and we can extract important crime information for each offense in each county much easier.</p>
<p><img src="./imgs/fbi_1.png" class="img-fluid"> For most of our datasets, we are trying to follow a format where in each county level dataset we have all the 99 different counties in the ‘COUNTY’ column, this way, it is much easier when merging datasets for our final data visualization.</p>
<p><a href="./imgs/fbi_2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="./imgs/fbi_2.png" class="img-fluid"></a></p>
</section>
<section id="social-capital-atlas" class="level3">
<h3 class="anchored" data-anchor-id="social-capital-atlas">Social Capital Atlas</h3>
<p>Along with the FBI Crime Reports dataset, we looked into Meta’s Social Capital Atlas dataset, a very cool website that shows the social engagement of a community on their social media platform.</p>
<p>Different measures for social capital in this dataset:</p>
<ul>
<li>Connectedness: How people with different characteristics and backgrounds are friends with each other, this is a clear example of bridging social capital.</li>
<li>Cohesiveness: The degree to which friendship networks are clustered into cliques and whether friendships tend to be supported by mutual friends. This includes our clustering and support ratio measures.</li>
<li>Civic Engagement: Indices of trust or participation in civic organizations. This includes our volunteering rate measure.</li>
</ul>
<p><a href="./imgs/social.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="./imgs/social.png" class="img-fluid"></a></p>
<p><strong>Economic Connectedness by County</strong></p>
<p><a href="./imgs/ecbycounty.html" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><embed src="./imgs/ecbycounty.html" width="600" height="400"></a></p>
<p><strong>Next week goal:</strong> We have the same dataset but by zip code instead and we would like to generate maps for each variable by zip code.</p>
</section>
<section id="iowa-public-library-statistics" class="level3">
<h3 class="anchored" data-anchor-id="iowa-public-library-statistics">Iowa Public Library Statistics</h3>
<p>We looked at the Iowa Public Library Statistics for the fiscal year 2023, July 1, 2022 - Jun 30, 2023. There were 514 Libraries in the dataset and each library was set to a size range. The main sections that we looked at were expenditures, programs and activities, services, and transactions. This will tell us how involved a community is to their public library.</p>
<p><a href="imgs/LibrarySize.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="imgs/LibrarySize.png" width="600" height="400"></a></p>
<section id="program-and-activities" class="level4">
<h4 class="anchored" data-anchor-id="program-and-activities">Program and Activities</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    City  Pop Size Prog1 Attend1 Prog2 Attend2 Prog3 Attend3 Prog4 Attend4 Prog5 Attend5 Prog6 Attend6 Num Programs per 10,000 People Num of Attend per Pop Total Kid Programs Num Kid Programs per 10,000 People Total Kid Programs Attend Num of Kid Programs Attend per 10,000 People
1 Ackley 1699    C     5      28    46    1106     0       0    68     379    12     441   131    1954                       771.0418             1.1500883                 51                          300.17657                      1134                                     6674.514
2  Adair  828    B     0       0     5     245     0       0     1      10     6     150    12     405                       144.9275             0.4891304                  5                           60.38647                       245                                     2958.937
3   Adel 6090    E   143    2638    37     719    33     397   327    1902    35    1635   575    7291                       944.1708             1.1972085                180                          295.56650                      3357                                     5512.315
4 Agency  463    B     0       0    11      56     0       0    12      40     0       0    23      96                       496.7603             0.2073434                 11                          237.58099                        56                                     1209.503
5  Akron 1580    C    40     980    32    1353     4      72    55     407    25     878   156    3690                       987.3418             2.3354430                 72                          455.69620                      2333                                    14765.823</code></pre>
</div>
</div>
<p>In this table we added columns to find out the number of programs and attendance per 10,000 people in each city. We also looked at just the kid programs. In this dataset kids are classified by the age range 0-5 and 6-11.</p>
</section>
<section id="services" class="level4">
<h4 class="anchored" data-anchor-id="services">Services</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    City  Pop Size Visits Visits Per Capita Internet PCs Internet Use Wireless Sessions Website Visits St. Ft. of Building Avg. Weekly Hours Open Visits Per 10,000 People Wireless Sessions Per 10,000 People Website Visits Per 10,000 People
1 Ackley 1699    C  11000          6.474397            4          520              4183           2203                5300                     42                 64743.97                           24620.365                        12966.451
2  Adair  828    B   1582          1.910628            2          146               319            290                3200                     13                 19106.28                            3852.657                         3502.415
3   Adel 6090    E  62001         10.180788            7         1543             11756          22079               18000                     43                101807.88                           19303.777                        36254.516
4 Agency  463    B   1716          3.706263            4           13               966            612                 357                     43                 37062.63                           20863.931                        13218.143
5  Akron 1580    C  18342         11.608861            5          802              2076           2747                2412                     43                116088.61                           13139.241                        17386.076</code></pre>
</div>
</div>
<p>In this table we were interested in the services that a library had for their community. We calculated the visits, wireless sessions, and website visits per 10,000 people.</p>
</section>
</section>
<section id="general-election-turnout" class="level3">
<h3 class="anchored" data-anchor-id="general-election-turnout">2022 General Election Turnout</h3>
<p>In the General Election Turnout dataset we were given information about election day, absentee, and active voters in Iowa counties.</p>
<section id="election-turnout" class="level4">
<h4 class="anchored" data-anchor-id="election-turnout">Election Turnout</h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>     County   Pop Election Day Voters Absentee Voters Total Voters Active Voters as of 11/8/2022 % Active Voter Turnout Inactive Voters as of 11/8/2022 % Total Voter Turnout % Total Absentee Voters Total Voters per 10,000 people Active Voters per 10,000 people Election Day Voters per 10,000 people Absentee Voters per 10,000 people
1     Adair  7479                2249             943         3192                          4707                 0.6781                             719                0.5882               0.2954261                       4267.950                        6293.622                              3007.087                          1260.864
2     Adams  3680                1142             538         1680                          2446                 0.6868                             378                0.5949               0.3202381                       4565.217                        6646.739                              3103.261                          1461.957
3 Allamakee 14046                3935            1915         5850                          8423                 0.6945                            1424                0.5940               0.3273504                       4164.887                        5996.725                              2801.509                          1363.377
4 Appanoose 12279                3416            1319         4735                          7434                 0.6369                            1450                0.5329               0.2785639                       3856.177                        6054.239                              2781.986                          1074.192
5   Audubon  5651                1746             739         2485                          3691                 0.6732                             529                0.5888               0.2973843                       4397.452                        6531.587                              3089.719                          1307.733</code></pre>
</div>
</div>
<p>In this table we calculated the total amount of voters per 10,000 people in each county. We also calculated the election day, absentee, and active voters per 10,000 people in each county.</p>
</section>
</section>
<section id="exploration-of-arts-events-and-race" class="level3">
<h3 class="anchored" data-anchor-id="exploration-of-arts-events-and-race">Exploration of Arts, Events, and Race</h3>
<p>We started to explore the dataset about art, events, and race in Iowa cities.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="Weekly_Team_Blog_files/figure-html/unnamed-chunk-4-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="Weekly_Team_Blog_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><a href="Weekly_Team_Blog_files/figure-html/unnamed-chunk-4-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="Weekly_Team_Blog_files/figure-html/unnamed-chunk-4-2.png" class="img-fluid figure-img" width="672"></a></p>
</figure>
</div>
</div>
</div>
<p>These two plots show you the relationship between the city population and the Historic Sites that are less than 100.</p>
<section id="map-exploration" class="level5">
<h5 class="anchored" data-anchor-id="map-exploration">Map Exploration</h5>
<p><a href="imgs/Historic_less.html" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><embed src="imgs/Historic_less.html" width="600" height="400"></a></p>
<p>This interactive map shows cities in Iowa with less than 100 historic sites per 10,000 people.</p>
<p>![](imgs/Public_art_less.html{width=“600” height=“400”}</p>
<p>This interactive map shows cities in Iowa with less than 100 public art per 10,000 people.</p>
<section id="race" class="level6">
<h6 class="anchored" data-anchor-id="race">Race</h6>
<p><a href="imgs/SimpsonIndex_race.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="imgs/SimpsonIndex_race.png" width="500" height="400"></a></p>
</section>
<section id="ancestry" class="level6">
<h6 class="anchored" data-anchor-id="ancestry">Ancestry</h6>
<p><a href="imgs/top_ancestry.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="imgs/top_ancestry.png" width="500" height="400"></a></p>
</section>
<section id="art-sites" class="level6">
<h6 class="anchored" data-anchor-id="art-sites">Art Sites</h6>
<p><a href="imgs/top_art_sites.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="imgs/top_art_sites.png" width="500" height="400"></a></p>
</section>
<section id="historic-sites" class="level6">
<h6 class="anchored" data-anchor-id="historic-sites">Historic Sites</h6>
<p><a href="imgs/top_historic_sites.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="imgs/top_historic_sites.png" width="500" height="400"></a></p>
</section>
<section id="museums" class="level6">
<h6 class="anchored" data-anchor-id="museums">Museums</h6>
<p><a href="imgs/top_museums.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="imgs/top_museums.png" width="500" height="400"></a></p>
<p>This image shows 100 cities in Iowa with the highest race Simpson Index.</p>
<p>These treemaps show 100 cities in Iowa that have the highest Simpson Index race and ancestry, art sites, historic sites, and museums.</p>
</section>
</section>
</section>
<section id="acs-datasets" class="level3">
<h3 class="anchored" data-anchor-id="acs-datasets">3 ACS Datasets</h3>
<section id="single-household-distribution-across-cities" class="level4">
<h4 class="anchored" data-anchor-id="single-household-distribution-across-cities">Single Household Distribution across Cities</h4>
<p>We started by collecting single household datasets from ACS</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    GEOID                NAME B11003_010E B11003_010M B11003_016E B11003_016M
1 1900190   Ackley city, Iowa          10           9          41          28
2 1900235 Ackworth city, Iowa           0          10           8           8
3 1900370    Adair city, Iowa           0          10           8           9
4 1900505     Adel city, Iowa           0          15          61          73
5 1900595    Afton city, Iowa           1           3          15          12
6 1900640   Agency city, Iowa           0          10          22          24</code></pre>
</div>
</div>
<p>Because of population differences between cities, we fetched the total number of households within cities from ACS and calculated proportions of single households in cities.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    GEOID     CITY B11003_010E B11003_010M B11003_016E B11003_016M estimate proportion_male proportion_female
1 1900190   Ackley          10           9          41          28      413     0.024213075        0.09927361
2 1900235 Ackworth           0          10           8           8       32     0.000000000        0.25000000
3 1900370    Adair           0          10           8           9      185     0.000000000        0.04324324
4 1900505     Adel           0          15          61          73     1525     0.000000000        0.04000000
5 1900595    Afton           1           3          15          12      245     0.004081633        0.06122449
6 1900640   Agency           0          10          22          24      135     0.000000000        0.16296296</code></pre>
</div>
</div>
</section>
<section id="commuting-time-to-work" class="level4">
<h4 class="anchored" data-anchor-id="commuting-time-to-work">Commuting Time to Work</h4>
<p>From a bunch of datasets for means of transportations from ACS, we collected the dataset of people commuting to work over one hour every day.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    GEOID                NAME   variable num_commuters moe
1 1900190   Ackley city, Iowa B08134_010            29  21
2 1900235 Ackworth city, Iowa B08134_010             0  10
3 1900370    Adair city, Iowa B08134_010            34  24
4 1900505     Adel city, Iowa B08134_010            23  35
5 1900595    Afton city, Iowa B08134_010            35  24
6 1900640   Agency city, Iowa B08134_010             2   4</code></pre>
</div>
</div>
<p>Also because of the size differences, I collectd the total number of communters and then calculated the proportion of people commuting more than 1 hour to work.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    GEOID     CITY   variable num_commuters moe estimate  proportion
1 1900190   Ackley B08134_010            29  21      752 0.038563830
2 1900235 Ackworth B08134_010             0  10       50 0.000000000
3 1900370    Adair B08134_010            34  24      390 0.087179487
4 1900505     Adel B08134_010            23  35     2674 0.008601346
5 1900595    Afton B08134_010            35  24      500 0.070000000
6 1900640   Agency B08134_010             2   4      199 0.010050251</code></pre>
</div>
</div>
</section>
<section id="english-proficiency-dataset" class="level4">
<h4 class="anchored" data-anchor-id="english-proficiency-dataset">English Proficiency Dataset</h4>
<p>English proficiency also contributes to how society is established, expresses and communicates ideas.</p>
<p><img src="./imgs/proficiency.png" class="img-fluid" alt="English Proficiency Distribution"> Also, to maintain good relativity to the city sizes, I calculate the proportions.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>      CITY proportion
1   Ackley  0.9660912
2 Ackworth  1.0000000
3    Adair  1.0000000
4     Adel  0.9799023
5    Afton  0.9630332
6   Agency  1.0000000</code></pre>
</div>
</div>
</section>
</section>
<section id="merge-datasets-together" class="level3">
<h3 class="anchored" data-anchor-id="merge-datasets-together">Merge Datasets together</h3>
<p>These three datasets will be valuable to measurer the social capitals at the end and we just care about the proportions. So I perform a merge.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./imgs/social_df.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="Social Capital Measures"><img src="./imgs/social_df.png" class="img-fluid figure-img" alt="Social Capital Measures"></a></p>
<figcaption>Social Capital Measures</figcaption>
</figure>
</div>
</section>
<section id="race-ancestry-diversity-dataset" class="level3">
<h3 class="anchored" data-anchor-id="race-ancestry-diversity-dataset">Race &amp; Ancestry Diversity Dataset</h3>
<p>Race and Ancestry are important measures for Cultural Capitals. I collected data about number of people with different races and ancestries within cities and merge them together.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./imgs/ancestry_r.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15" title="Ancestry"><img src="./imgs/ancestry_r.png" class="img-fluid figure-img" alt="Ancestry"></a></p>
<figcaption>Ancestry</figcaption>
</figure>
</div>
<p><img src="./imgs/race.png" class="img-fluid" alt="Race"> We then use Simpson Index to calculate the diversity within each city.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>    GEOID     CITY SimpsonIndex_race SimpsonIndex_ancestry
1 1900190   Ackley        0.24674401             0.8196178
2 1900235 Ackworth        0.17250674             0.8134410
3 1900370    Adair        0.09779811             0.7921790
4 1900505     Adel        0.17635778             0.8601441
5 1900595    Afton        0.26618045             0.8464086
6 1900640   Agency        0.08874089             0.8409283</code></pre>
</div>
</div>
</section>
<section id="cultural-datasets" class="level3">
<h3 class="anchored" data-anchor-id="cultural-datasets">Cultural Datasets</h3>
<p>We process to some visualizations for some of the measures for cultural capitals</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="./imgs/cultural.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16" title="Cultural"><img src="./imgs/cultural.png" class="img-fluid figure-img" alt="Cultural"></a></p>
<figcaption>Cultural</figcaption>
</figure>
</div>
<section id="visualizations" class="level4">
<h4 class="anchored" data-anchor-id="visualizations">Visualizations</h4>
<section id="historic-sites-1" class="level5">
<h5 class="anchored" data-anchor-id="historic-sites-1">Historic Sites</h5>
<p><a href="imgs/Historic.html" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><embed src="imgs/Historic.html" width="600" height="400"></a></p>
</section>
<section id="arts" class="level5">
<h5 class="anchored" data-anchor-id="arts">Arts</h5>
<p><a href="imgs/Arts.html" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><embed src="imgs/Arts.html" width="600" height="400"></a></p>
</section>
<section id="museums-1" class="level5">
<h5 class="anchored" data-anchor-id="museums-1">Museums</h5>
<p><a href="imgs/Museums.html" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><embed src="imgs/Museums.html" width="600" height="400"></a></p>
</section>
<section id="monuments" class="level5">
<h5 class="anchored" data-anchor-id="monuments">Monuments</h5>
<p><a href="imgs/Monuments.html" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><embed src="imgs/Monuments.html" width="600" height="400"></a></p>


</section>
</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","closeEffect":"zoom","loop":false,"descPosition":"bottom","openEffect":"zoom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>