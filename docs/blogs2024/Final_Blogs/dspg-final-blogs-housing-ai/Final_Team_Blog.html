<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.52">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Housing and AI">
<meta name="dcterms.date" content="2024-07-19">

<title>Housing and AI Final Presentation â€“ DSPG 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">DSPG 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../allBlogs.html"> 
<span class="menu-text">Project Blogs</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-student-blogs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Student Blogs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-student-blogs">    
        <li>
    <a class="dropdown-item" href="../../../participants.html">
 <span class="dropdown-text">All Participants</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/harun.html">
 <span class="dropdown-text">Harun Celik</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/solomon.html">
 <span class="dropdown-text">Solomon Eshun</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/tabassum.html">
 <span class="dropdown-text">Tabassum Zaman</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/karthik.html">
 <span class="dropdown-text">Karthik Hanumanthaiah</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/blake.html">
 <span class="dropdown-text">Blake Underwood</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/cael.html">
 <span class="dropdown-text">Cael Leistikow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/neha.html">
 <span class="dropdown-text">Neha Tirunagiri</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/naomi.html">
 <span class="dropdown-text">Naomi Mauss</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/manjul.html">
 <span class="dropdown-text">Manjul Balayar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/alister.html">
 <span class="dropdown-text">Alister Gan</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/nhat.html">
 <span class="dropdown-text">Nhat Le</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/joseph.html">
 <span class="dropdown-text">Joseph Betti</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/lily.html">
 <span class="dropdown-text">Lily Christenson</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html" target="_blank"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DSPG-2024"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Housing and AI Final Presentation</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Final Presentation</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Housing and AI </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 19, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#project-overview" id="toc-project-overview" class="nav-link" data-scroll-target="#project-overview">Project Overview</a></li>
  <li><a href="#use-cases" id="toc-use-cases" class="nav-link" data-scroll-target="#use-cases">Use Cases</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p><a href="imgs/IntroPic.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="imgs/IntroPic.png" class="img-fluid"></a></p>
<section id="research-question" class="level4">
<h4 class="anchored" data-anchor-id="research-question">Research Question</h4>
<p>How can AI more effectively distribute up to date housing related information to communities in Iowa?</p>
</section>
<section id="goals" class="level4">
<h4 class="anchored" data-anchor-id="goals">Goals</h4>
<p><a href="imgs/GeneralGoals.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="imgs/GeneralGoals.png" class="img-fluid"></a></p>
<p><a href="imgs/Survey.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="imgs/Survey.jpg" class="img-fluid"></a></p>
<p><a href="imgs/wordcloud.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="imgs/wordcloud.png" class="img-fluid" width="237"></a></p>
<p>The ultimate goal of this project was to develop an accurate AI Chat bot that is able to efficiently provide information to the user. The Chat bot allows easy access to a wide variety of roles ranging from new home buyers to policy makers. The information also contains the most up to date and most relevant to the user to make data comparisons for well informed decisions while also providing relevant visualizations for better understanding.</p>
</section>
<section id="presentation-structures" class="level4">
<h4 class="anchored" data-anchor-id="presentation-structures">Presentation Structures</h4>
<p><a href="imgs/PresentationOverview.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="imgs/PresentationOverview.png" class="img-fluid"></a></p>
</section>
</section>
<section id="project-overview" class="level2">
<h2 class="anchored" data-anchor-id="project-overview">Project Overview</h2>
<p><strong>Technology Overview:</strong></p>
<ul>
<li><p><strong>Machine Learning:</strong> Enable AI to imitate how humans can learn and speak to bridge the gap between AI and human communication</p></li>
<li><p><strong>Large Language Model (LLM):</strong> A subtype of Machine Learning that has been trained on a vast amount of text data. It learns to understand and generate responses to address a user query, making a human interactions with the Chatbot smooth and resourceful.</p></li>
<li><p><strong>Semantic Segmentation:</strong> Predictive image segmentation that assigns classification values to pixels based previously defined pixel values. Helps distinguish between various object within an image.</p></li>
<li><p><strong>Map Generation:</strong> Map generation transforms geographical data into interactive visual maps, making it easier for users to explore and understand spatial patterns and trends. By visualizing data on maps, users can identify geographic distributions, analyze regional differences, and make informed decisions based on location-based insights.This provides a clear and intuitive way to interpret complex geographic information.</p></li>
<li><p><strong>Nova Ondemand (High Performance Computing):</strong> Platform to get access to vast computer resources to be able to run our AI Chat bot.</p></li>
</ul>
<p><strong>Data Source Overview:</strong></p>
<ul>
<li><p><strong>American Community Survey (ACS):</strong> Survey to calculate different demographics aspect about the nation and the people on an annual basis. We are using the ACS 5-year (2017 - 2022) for our data.</p></li>
<li><p><strong>Data For Decision Makers:</strong> A brief reports that represent a profile and snapshots of a cityâ€™s, countyâ€™s, and a regionâ€™s demographics, economic, social, health and housing characteristics.</p></li>
<li><p><strong>Rural Housing Readiness Assessment (RHRA):</strong> A tool that helps communities self-assess their housing needs and guides them in the decision-making process when addressing those needs.</p></li>
<li><p><strong>United States Department of Housing and Urban Development (HUD):</strong> One of the executive department in the U.S. federal government that works on administrating federal housing and urban development laws.</p></li>
<li><p><strong>United States Department of Agriculture (USDA):</strong> Federal executive department that helps in developing and executive federal laws related to agriculture, forestry, farming and rural economic development.</p></li>
<li><p><strong>National Agricultural Imagery Program (NAIP):</strong> Federal aerial imagery database that is made up of high resolution images of the United States, taken during the agricultural growing season.</p></li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/ProjectOverview.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Project Overview"><img src="imgs/ProjectOverview.png" class="img-fluid figure-img" alt="Project Overview"></a></p>
<figcaption>Project Overview</figcaption>
</figure>
</div>
</section>
<section id="use-cases" class="level2">
<h2 class="anchored" data-anchor-id="use-cases">Use Cases</h2>
<section id="use-case-1-general-housing-policy" class="level4">
<h4 class="anchored" data-anchor-id="use-case-1-general-housing-policy">Use Case 1: General Housing Policy</h4>
<div>
<!-- `id` allows css styling -->
<!-- 'class=slide-deck' is a default parameter that needs to be added-->
<!-- the src attribute is the path to the qmd file but referred in html-->
<iframe id="slides" class="slide-deck" src="Data/slides-dir/Alister_Part/Case1.html">
</iframe>
</div>
</section>
<section id="use-case-2-local-housing-statistics" class="level4">
<h4 class="anchored">Use Case 2: Local Housing Statistics</h4>
<div>
<!-- `id` allows css styling -->
<!-- 'class=slide-deck' is a default parameter that needs to be added-->
<!-- the src attribute is the path to the qmd file but referred in html-->
<iframe id="slides" class="slide-deck" src="Data/slides-dir/Neha_part/Case_3.html">
</iframe>
<section id="use-case-3-building-footprints" class="level4">
<h4 class="anchored" data-anchor-id="use-case-3-building-footprints">Use Case 3: Building Footprints</h4>
<!-- `id` allows css styling -->
<!-- 'class=slide-deck' is a default parameter that needs to be added-->
<!-- the src attribute is the path to the qmd file but referred in html-->
<iframe id="slides" class="slide-deck" src="Data/slides-dir/Cael_Part/Case5.html">
</iframe>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<section id="project-goals" class="level4">
<h4 class="anchored" data-anchor-id="project-goals">Project Goals</h4>
<p><a href="imgs/Goals.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="imgs/Goals.png" class="img-fluid"></a></p>
</section>
<section id="wrap-up" class="level4">
<h4 class="anchored" data-anchor-id="wrap-up">Wrap Up</h4>
<p>Overall, our hope is that the AI Chat bot will:</p>
<ul>
<li><p>Make housing data more easily accessible</p></li>
<li><p>Keep the user up to date on the constant changing housing data</p></li>
<li><p>Time efficient way to perform analysis and visualization on housing data</p></li>
<li><p>Make full use of AI to solve housing issues</p></li>
</ul>
</section>
<section id="future-work-and-challenges" class="level4">
<h4 class="anchored" data-anchor-id="future-work-and-challenges">Future Work and Challenges</h4>
<p><a href="imgs/Future.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="imgs/Future.png" class="img-fluid"></a></p>
</section>
</section>
<section id="what-we-learned" class="level2">
<h2 class="anchored" data-anchor-id="what-we-learned">What We Learned</h2>
<p><a href="imgs/what we learned.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="imgs/what we learned.png" class="img-fluid"></a></p>
<p>We have learned the ability to modify the characteristics of an image, such as color and size, and to use image information for classification techniques. We have also integrated different types of datasets into a Large Language Model (LLM) and trained the LLM with diverse sets of data to address user questions. Additionally, we have sourced data to enhance the modelâ€™s capability to answer a wider range of housing questions. Furthermore, we have created interactive maps using maping function and worked on UI(User Interface) features to improve user accessibility and facilitate easy interaction with the LLM. Along with it, we all collaborated and worked together to address housing needs and policies.</p>
</section>
<section id="acknowledgement" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgement">Acknowledgement</h2>
<p>We as a team are extremely grateful to our sponsors, clients, project lead, as well as our event coordinator for facilitating the program throughout the whole 10 weeks. Huge shout out to their efforts in guiding us in our journey of the beginning where we started up by sourcing for data sources until having a functioning AI Chat bot. We have all greatly benefited from being part of the team and look forward to see how the AI Chat bot will benefit users from all walks of life.</p>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources</h2>
<ul>
<li><p>ACS data are sourced from Data for decision makers, we are making use of the ACS table stored under database: ext_ind_data</p></li>
<li><p>Source of different websites and different unstructured data that are collected during the project are documented at: <a href="https://iastate.app.box.com/file/1558368061658" class="uri">https://iastate.app.box.com/file/1558368061658</a></p></li>
<li><p>Metadata related to Llama-index agent are stored relative to the codebase, agents codes can be found at <a href="https://github.com/DSPG-2024-Work/HousingAIService/tree/main/agent" class="uri">https://github.com/DSPG-2024-Work/HousingAIService/tree/main/agent</a></p></li>
<li><p>Any metadata related to documents are stored alongside the project under a directory called data <a href="https://github.com/DSPG-2024-Work/HousingAIService/tree/main/data" class="uri">https://github.com/DSPG-2024-Work/HousingAIService/tree/main/data</a></p></li>
<li><p>ACS data on population and age distribution across different blocks and block groups in Des Moines <a href="https://iastate.box.com/s/mf77iw7r2ro789n2ztirwz4u2wj0f8fn" class="uri">https://iastate.box.com/s/mf77iw7r2ro789n2ztirwz4u2wj0f8fn</a></p></li>
<li><p>Different websites and ACS data on factors such as health related topics, employment status and job, and health insurance <a href="https://iastate.box.com/s/mf77iw7r2ro789n2ztirwz4u2wj0f8fn" class="uri">https://iastate.box.com/s/mf77iw7r2ro789n2ztirwz4u2wj0f8fn</a></p></li>
<li><p>NAIP satellite images: Source: USDA Farm Production and Conservation â€“ Business Center, Geospatial Enterprise Operations, <a href="https://developers.google.com/earth-engine/datasets/catalog/USDA_NAIP_DOQQ?hl=en#citations" class="uri">https://developers.google.com/earth-engine/datasets/catalog/USDA_NAIP_DOQQ?hl=en#citations</a></p></li>
<li><p>Building footprint coordinates within Polk County, Iowa: Source: Des Moines Data Portal, <a href="https://data.dsm.city/datasets/7d361656e52e4a70912542d223c6e394_0/explore?location=41.512289%2C-93.604850%2C8.70" class="uri">https://data.dsm.city/datasets/7d361656e52e4a70912542d223c6e394_0/explore?location=41.512289%2C-93.604850%2C8.70</a></p></li>
<li><p>Coordinates outlining the 2020 decennial census blocks: Source: US 2020 Decennial Census, <a href="https://data.census.gov/table/DECENNIALCD1182020.P1?q=Population%20Total" class="uri">https://data.census.gov/table/DECENNIALCD1182020.P1?q=Population%20Total</a></p></li>
<li><p>Segformer pretrained model: <a href="https://huggingface.co/nvidia/mit-b0" class="uri">https://huggingface.co/nvidia/mit-b0</a>, <a href="https://github.com/huggingface/notebooks/blob/main/examples/semantic_segmentation.ipynb" class="uri">https://github.com/huggingface/notebooks/blob/main/examples/semantic_segmentation.ipynb</a></p></li>
</ul>


</section>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"openEffect":"zoom","closeEffect":"zoom","descPosition":"bottom","selector":".lightbox","loop":false});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>