<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.45">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Community Capitals">
<meta name="dcterms.date" content="2024-07-26">

<title>Community Capitals Final Presentation – DSPG 2024</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../../">
<script src="../../../site_libs/quarto-html/quarto.js"></script>
<script src="../../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="../../../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../../../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../../../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../../../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../../index.html">
    <span class="navbar-title">DSPG 2024</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../allBlogs.html"> 
<span class="menu-text">Project Blogs</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-student-blogs" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Student Blogs</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-student-blogs">    
        <li>
    <a class="dropdown-item" href="../../../participants.html">
 <span class="dropdown-text">All Participants</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/harun.html">
 <span class="dropdown-text">Harun Celik</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/solomon.html">
 <span class="dropdown-text">Solomon Eshun</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/tabassum.html">
 <span class="dropdown-text">Tabassum Zaman</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/karthik.html">
 <span class="dropdown-text">Karthik Hanumanthaiah</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/blake.html">
 <span class="dropdown-text">Blake Underwood</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/cael.html">
 <span class="dropdown-text">Cael Leistikow</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/neha.html">
 <span class="dropdown-text">Neha Tirunagiri</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/naomi.html">
 <span class="dropdown-text">Naomi Mauss</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/manjul.html">
 <span class="dropdown-text">Manjul Balayar</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/alister.html">
 <span class="dropdown-text">Alister Gan</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/nhat.html">
 <span class="dropdown-text">Nhat Le</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/joseph.html">
 <span class="dropdown-text">Joseph Betti</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../../studentBlogs/lily.html">
 <span class="dropdown-text">Lily Christenson</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../../schedule.html"> 
<span class="menu-text">Schedule</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../../resources.html" target="_blank"> 
<span class="menu-text">Resources</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/DSPG-2024"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Community Capitals Final Presentation</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Final Presentation</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Community Capitals </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 26, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a>
  <ul class="collapse">
  <li><a href="#understanding-community-and-capitals" id="toc-understanding-community-and-capitals" class="nav-link" data-scroll-target="#understanding-community-and-capitals">Understanding Community and Capitals</a></li>
  <li><a href="#types-of-community-capitals" id="toc-types-of-community-capitals" class="nav-link" data-scroll-target="#types-of-community-capitals">Types of Community Capitals</a></li>
  <li><a href="#events-database" id="toc-events-database" class="nav-link" data-scroll-target="#events-database">Events Database</a></li>
  <li><a href="#importance-of-data-driven-decision-making" id="toc-importance-of-data-driven-decision-making" class="nav-link" data-scroll-target="#importance-of-data-driven-decision-making">Importance of Data-Driven Decision-Making</a></li>
  </ul></li>
  <li><a href="#our-project" id="toc-our-project" class="nav-link" data-scroll-target="#our-project">Our Project</a>
  <ul class="collapse">
  <li><a href="#project-methodology" id="toc-project-methodology" class="nav-link" data-scroll-target="#project-methodology">Project Methodology</a>
  <ul class="collapse">
  <li><a href="#initial-research" id="toc-initial-research" class="nav-link" data-scroll-target="#initial-research">Initial Research</a></li>
  <li><a href="#data-collection-and-selection" id="toc-data-collection-and-selection" class="nav-link" data-scroll-target="#data-collection-and-selection">Data Collection and Selection</a></li>
  <li><a href="#final-deliverables" id="toc-final-deliverables" class="nav-link" data-scroll-target="#final-deliverables">Final Deliverables</a></li>
  </ul></li>
  <li><a href="#technologies" id="toc-technologies" class="nav-link" data-scroll-target="#technologies">Technologies</a>
  <ul class="collapse">
  <li><a href="#programming-languages" id="toc-programming-languages" class="nav-link" data-scroll-target="#programming-languages">Programming Languages</a></li>
  <li><a href="#packages" id="toc-packages" class="nav-link" data-scroll-target="#packages">Packages</a></li>
  </ul></li>
  <li><a href="#data-sources-measures" id="toc-data-sources-measures" class="nav-link" data-scroll-target="#data-sources-measures">Data Sources &amp; Measures</a></li>
  <li><a href="#data-processing" id="toc-data-processing" class="nav-link" data-scroll-target="#data-processing">Data Processing</a>
  <ul class="collapse">
  <li><a href="#lack-of-reliable-data" id="toc-lack-of-reliable-data" class="nav-link" data-scroll-target="#lack-of-reliable-data">Lack of Reliable Data</a></li>
  <li><a href="#data-transformation" id="toc-data-transformation" class="nav-link" data-scroll-target="#data-transformation">Data Transformation</a></li>
  <li><a href="#diversity-index-formulation" id="toc-diversity-index-formulation" class="nav-link" data-scroll-target="#diversity-index-formulation">Diversity Index Formulation</a></li>
  </ul></li>
  <li><a href="#challenges" id="toc-challenges" class="nav-link" data-scroll-target="#challenges">Challenges</a></li>
  <li><a href="#tableau-dashboard" id="toc-tableau-dashboard" class="nav-link" data-scroll-target="#tableau-dashboard">Tableau Dashboard</a>
  <ul class="collapse">
  <li><a href="#event-database" id="toc-event-database" class="nav-link" data-scroll-target="#event-database">Event Database</a></li>
  <li><a href="#acs-time-series-analysis" id="toc-acs-time-series-analysis" class="nav-link" data-scroll-target="#acs-time-series-analysis">ACS Time Series Analysis</a></li>
  <li><a href="#interesting-findings-with-acs-and-events" id="toc-interesting-findings-with-acs-and-events" class="nav-link" data-scroll-target="#interesting-findings-with-acs-and-events">Interesting Findings with ACS and Events</a></li>
  <li><a href="#explorations-maps" id="toc-explorations-maps" class="nav-link" data-scroll-target="#explorations-maps">Explorations &amp; Maps</a></li>
  <li><a href="#bivariate-analysis" id="toc-bivariate-analysis" class="nav-link" data-scroll-target="#bivariate-analysis">Bivariate Analysis</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a>
  <ul class="collapse">
  <li><a href="#implications-for-decision-makers" id="toc-implications-for-decision-makers" class="nav-link" data-scroll-target="#implications-for-decision-makers">Implications for Decision-Makers</a></li>
  <li><a href="#future-work" id="toc-future-work" class="nav-link" data-scroll-target="#future-work">Future Work</a></li>
  <li><a href="#acknowledgment" id="toc-acknowledgment" class="nav-link" data-scroll-target="#acknowledgment">Acknowledgment</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<div style="text-align: center;">
<p><a href="imgs/Capital-Team.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="imgs/Capital-Team.png" class="img-fluid"></a></p>
</div>
<section id="introduction" class="level1">
<h1>Introduction</h1>
<section id="understanding-community-and-capitals" class="level2">
<h2 class="anchored" data-anchor-id="understanding-community-and-capitals">Understanding Community and Capitals</h2>
<p>Before delving into the concept of community capitals, it’s essential to understand what constitutes a community and what we mean by capitals. A community can be understood through several aspects:</p>
<ol type="1">
<li><strong>Geographic-based</strong>: This includes neighborhoods, towns, cities, counties, etc.</li>
<li><strong>Organization-based</strong>: Communities formed around workplaces, schools, and other organizations.</li>
<li><strong>Identity-based</strong>: Communities linked to one’s hometown, vacation spots, and other personal affiliations.</li>
</ol>
<p>A healthy community encompasses all three components. It has distinct physical boundaries, serves as a primary location for employment and services, and fosters a strong attachment to the place.</p>
<p>So, what is a <em>capital</em>? Capital refers to assets that are ‘invested’ to generate new resources. Key characteristics of capitals include:</p>
<ul>
<li>They can be overused and depleted.</li>
<li>They must be utilized to grow; otherwise, they depreciate.</li>
<li>They are embodied in individuals and organizations.</li>
<li>They function as public goods.</li>
<li>Generally, having more capital is beneficial, but not always.</li>
</ul>
</section>
<section id="types-of-community-capitals" class="level2">
<h2 class="anchored" data-anchor-id="types-of-community-capitals">Types of Community Capitals</h2>
<div style="text-align: center;">
<p><a href="imgs/Capital-Introduction.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="imgs/Capital-Introduction.png" class="img-fluid" width="600"></a></p>
</div>
<ol type="1">
<li>Natural Capital
<ul>
<li>Defined: Landscapes (topography, landforms), Proximities (urban areas, natural amenities)</li>
<li>Human-managed: Necessary for consideration as capital</li>
<li>Examples: Soils, water, forests, wildlife, climate, farms, environmental hazards, over-development</li>
</ul></li>
<li>Cultural Capital
<ul>
<li>Defined: Understanding society, socialization, material and non-material</li>
<li>Importance: Maintains social class boundaries, shared but can have subcultures</li>
<li>Examples: Theater, dance, music, museums, historical sites, bookstores, galleries</li>
</ul></li>
<li>Human Capital
<ul>
<li>Defined: Qualities enabling individuals to earn and contribute to their communities</li>
<li>Properties: Enhances task performance, adds value, leads to higher compensation</li>
<li>Investment Examples: Education, training, work experience, personal learning, healthcare</li>
</ul></li>
<li>Social Capital
<ul>
<li>Defined: Networks, trust, norms, enhancing societal efficiency</li>
<li>Foundations: Trust, norms, sympathy, attachment, networks</li>
<li>Uses: Community engagement, public goods investment, resource acquisition</li>
<li>Dangers: Conformity, exclusion of outsiders</li>
<li>Types:
<ul>
<li>Bonding: Internal networks, strong ties (race, class, gender)</li>
<li>Bridging: External networks, weak ties (diverse backgrounds)</li>
</ul></li>
</ul></li>
<li>Political Capital
<ul>
<li>Defined: Influence on community priorities, resource distribution, rule enforcement</li>
<li>Properties: Formal (elected), Informal (non-elected)</li>
<li>Examples: Laws, regulations, community power networks</li>
</ul></li>
<li>Built Capital
<ul>
<li>Defined: Tangible structures and infrastructure supporting other capitals</li>
<li>Properties: Exclusive (paid access), Inclusive (open access)</li>
<li>Examples: Business equipment, schools, health facilities</li>
</ul></li>
<li>Financial Capital
<ul>
<li>Defined: Monetary tools convertible to other capitals (savings, income, loans)</li>
<li>Properties: Creates human and built capital through investment</li>
<li>Investment Examples: Direct (stocks), Indirect (education)</li>
</ul></li>
</ol>
<p>All seven of these capitals are crucial for a community to thrive. However, for our project we focused on Built, Natural, Social, and Cultural capitals. These capitals are more challenging to measure and find data sources for. In contrast, Financial Capital can be easily quantified using metrics like median household income, the number of businesses, etc. On the other hand, measuring cultural, built, social, and natural capitals are much more complex and less straightforward.</p>
<p><strong>Questions</strong>:</p>
<ul>
<li><p>What do the community capital indicators tell us about a community?</p></li>
<li><p>How well do the identified indicators tell us about the condition of a community in relationship to the community capitals?</p></li>
</ul>
</section>
<section id="events-database" class="level2">
<h2 class="anchored" data-anchor-id="events-database">Events Database</h2>
<p>In addition to our Community Capitals project, we have also been developing an Event Database. The aim of this project is to compile significant events that have occurred in Iowa over the years across various sectors. Example datasets we have worked with include FEMA’s natural disasters, economic development projects, nursing home closures, Iowa school district changes, and job layoffs. The purpose of this database is to provide a comprehensive resource for analyzing historical events in Iowa, enabling better-informed decision-making and strategic planning for the future.</p>
</section>
<section id="importance-of-data-driven-decision-making" class="level2">
<h2 class="anchored" data-anchor-id="importance-of-data-driven-decision-making">Importance of Data-Driven Decision-Making</h2>
<div style="text-align: center;">
<p><a href="imgs/decision.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="imgs/decision.png" class="img-fluid" width="700"></a></p>
</div>
<ol type="1">
<li>Data Collection and Measurement
<ul>
<li>Diverse Measures: Collecting a wide range of data points for each type of capital.</li>
<li>Accuracy and Comprehensiveness: Ensuring the data collected is both accurate and comprehensive to capture the true state of each capital.</li>
</ul></li>
<li>Valuable Insights
<ul>
<li>Strengths and Weaknesses: Identifying the strengths and weaknesses of a community through detailed analysis of the data.</li>
<li>Holistic Understanding: Gaining a holistic understanding of the community by considering all types of capitals.</li>
</ul></li>
<li>Actionable Insights
<ul>
<li>Strategic Planning: Using the insights gained to guide strategic planning efforts.</li>
<li>Resource Allocation: Informing resource allocation to address identified needs and opportunities.</li>
</ul></li>
<li>Policy and Decision-Making
<ul>
<li>Informed Decision-Making: Enabling policymakers to make informed decisions based on accurate data.</li>
<li>Organizational Planning: Assisting organizations in planning and executing community-focused projects.</li>
</ul></li>
<li>Community Well-being
<ul>
<li>Sustainable Development: Promoting sustainable development by ensuring that all aspects of community well-being are considered.</li>
<li>Resilience Building: Fostering resilience in communities by addressing diverse capital needs and strengthening overall community infrastructure.</li>
</ul></li>
</ol>
</section>
</section>
<section id="our-project" class="level1">
<h1>Our Project</h1>
<section id="project-methodology" class="level2">
<h2 class="anchored" data-anchor-id="project-methodology">Project Methodology</h2>
<section id="initial-research" class="level3">
<h3 class="anchored" data-anchor-id="initial-research">Initial Research</h3>
<p>In the first few weeks, we focused on understanding community capitals by reviewing previous research. This helped us identify key questions and measures that are crucial for assessing community resources.</p>
</section>
<section id="data-collection-and-selection" class="level3">
<h3 class="anchored" data-anchor-id="data-collection-and-selection">Data Collection and Selection</h3>
<p>Next, we sought reliable data sources and carefully selected influential measures contributing to community capitals. This process resulted in <strong>25 raw data sources and 66 capital measures</strong> (for capitals alone), which required significant effort to process, transform, and normalize into a meaningful format.</p>
</section>
<section id="final-deliverables" class="level3">
<h3 class="anchored" data-anchor-id="final-deliverables">Final Deliverables</h3>
<p>To support our clients, we created three comprehensive dashboards:</p>
<ul>
<li>Explorations &amp; Maps: Provides a clear view of the spatial distribution of resources.</li>
<li>Bivariate Analysis: Offers insights into the correlations between different measures.</li>
<li>Time Series Analysis: Displays trends over time, showing the rise and fall of resources.</li>
</ul>
<p>These dashboards collectively enhance the understanding of community capitals and aid in informed decision-making.</p>
<div style="text-align: center;">
<p><a href="imgs/timelines.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="imgs/timelines.png" class="img-fluid" width="750"></a></p>
</div>
</section>
</section>
<section id="technologies" class="level2">
<h2 class="anchored" data-anchor-id="technologies">Technologies</h2>
<section id="programming-languages" class="level3">
<h3 class="anchored" data-anchor-id="programming-languages">Programming Languages</h3>
<p><em>Python</em> and <em>R</em> are well-known for their robust capabilities in data analysis, visualization, and preprocessing. Both languages offer extensive libraries and frameworks that facilitate efficient data acquisition, manipulation, and presentation, making them ideal for comprehensive data-driven projects.</p>
</section>
<section id="packages" class="level3">
<h3 class="anchored" data-anchor-id="packages">Packages</h3>
<div style="text-align: center;">
<p><a href="imgs/TechStack.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="imgs/TechStack.png" class="img-fluid" width="700"></a></p>
</div>
<p>The packages we used can be categorized into three key areas: Data Visualization, Data Acquisition, and Data Preprocessing. Each category encompasses specific libraries and tools essential for our project.</p>
<ul>
<li>Data Visualization
<ul>
<li><em>Leaflet:</em> An open-source JavaScript library for interactive maps. In our project, Leaflet is used to create interactive spatial visualization to understand how capitals are distributed across Iowa. For example: distribution of museums, monuments, etc.</li>
<li><em>Matplotlib:</em> A comprehensive Python library for creating static, animated, and interactive visualizations in Python. It is highly customizable and works well with data in various formats.</li>
<li><em>Seaborn:</em> A Python visualization library built on top of Matplotlib, Seaborn offers a high-level interface for creating attractive and informative statistical graphics. Both Matplotlib and Seaborn were primarily utilized for visualizing categorical and numerical data, rather than maps or interactive graphs. These libraries were particularly useful for generating quick and straightforward insights. For instance, they allowed us to easily visualize the proportion of obsolete or deficient bridges compared to the total number of bridges within a county.</li>
</ul></li>
<li>Data Acquisition
<ul>
<li><em>Tidycensus:</em> Designed to help R users get Census data that is pre-prepared for exploration within the tidyverse, and optionally spatially with sf. It was often used to fetch American Community Survey data such as number of single-parent households.</li>
<li><em>Tigris:</em> An R package that allows users to directly download and use TIGER/Line shapefiles. It was used to fetch spatial locations of different Iowa cities and counties for visualization.</li>
<li><em>sf:</em> An R package supports for simple features, a standardized way to encode spatial vector data. It is used to extract the intersection of two areas (e.g: a long stream across multiple county) and calculate spatial parameters, including lengths and areas, etc.</li>
</ul></li>
<li>Data Preprocessing
<ul>
<li><em>Tidyverse:</em> An R package for data manipulation and analysis. It was widely used across the Community Capital project to handle and transform data into the expected format.</li>
<li><em>Pandas:</em> A powerful data manipulation and analysis library for Python, offering data structures and operations for manipulating numerical tables and time series. It excels at transforming raw datasets into structured and usable formats, making it indispensable for data cleaning and preprocessing tasks.</li>
<li><em>Scikit-learn:</em> A Python module integrating a wide range of state-of-the-art machine learning algorithms for medium-scale supervised and unsupervised problems. In our project, it was primarily used for feature scaling to ensure consistent feature values, enhancing the accuracy of visualizations and analyses. Scaling was crucial as we dealt with multiple datasets and features that had varying numerical ranges.</li>
</ul></li>
</ul>
</section>
</section>
<section id="data-sources-measures" class="level2">
<h2 class="anchored" data-anchor-id="data-sources-measures">Data Sources &amp; Measures</h2>
<div style="text-align: center;">
<p><a href="imgs/data-sources.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="imgs/data-sources.png" class="img-fluid" width="700"></a></p>
</div>
<p><strong>Other Sources:</strong> This reference links to the full sources: <a href="https://dspg-2024-work.github.io/Capitals-Docs-Live/">Data Sources &amp; Documentation</a>.</p>
</section>
<section id="data-processing" class="level2">
<h2 class="anchored" data-anchor-id="data-processing">Data Processing</h2>
<p>The images and datasets shown below are only for illustrations of different data processing steps in our project.</p>
<section id="lack-of-reliable-data" class="level3">
<h3 class="anchored" data-anchor-id="lack-of-reliable-data">Lack of Reliable Data</h3>
<p><strong>Challenge:</strong> For ACS city-level data, most cities had very few population, resulting in high margin of errors in a lot of measures.</p>
<p><strong>Resolution:</strong> To this point, the only good resolution for the lack of data was to use county-level data which significantly cutting down the margin of errors. For city-level data, we created an indicator for high/low margin of errors.</p>
</section>
<section id="data-transformation" class="level3">
<h3 class="anchored" data-anchor-id="data-transformation">Data Transformation</h3>
<p>Our data for different measures came in different ranges and format. We needed to transform our data into a meaningful format that could be easily used in different processes of the project as well as scale and normalize the data to decrease the effect of population differences.</p>
<p>We are clearly aware that there are differences in population sizes among cities and counties. Therefore, in order to normalize our data, we took the proportion with respect to the population sizes, formulated meaningful index and calculated the respective measure.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/normalization.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Normalization"><img src="imgs/normalization.png" class="img-fluid figure-img" alt="Normalization"></a></p>
<figcaption>Normalization</figcaption>
</figure>
</div>
</div>
<p>The preprocessed datasets shown below has more than 15,000 rows and 80 columns in each. After processing missing data, handling mistyped value, transforming the data into correct format and merging tables together, we achieved a single formatted dataset.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/active-providers.png" class="lightbox" data-gallery="provider" title="Active Nursing Homes from 2015 to 2024"><img src="imgs/active-providers.png" class="img-fluid figure-img" width="400" alt="Active Nursing Homes from 2015 to 2024"></a></p>
<figcaption>Active Nursing Homes from 2015 to 2024</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/post-processed.png" class="lightbox" data-gallery="provider" title="Post-Processed Data"><img src="imgs/post-processed.png" class="img-fluid figure-img" alt="Post-Processed Data"></a></p>
<figcaption>Post-Processed Data</figcaption>
</figure>
</div>
</div>
<p>For spatial data, we needed to utilize R packages such as tigris and sf to gauge and extract the areas, lengths and locations of different objects in Iowa. The images below showed the stream lengths after processed. We also did some processing to extract the intersection of the streams among counties to see where they are lying.</p>
<p><strong>Fun fact:</strong> A lot of streams have different parts and their parts lying in different counties.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/spatial-data.png" class="lightbox" data-gallery="spatial" title="Stream Length"><img src="imgs/spatial-data.png" class="img-fluid figure-img" alt="Stream Length"></a></p>
<figcaption>Stream Length</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/streams.png" class="lightbox" data-gallery="spatial" title="Streams Locations"><img src="imgs/streams.png" class="img-fluid figure-img" alt="Streams Locations"></a></p>
<figcaption>Streams Locations</figcaption>
</figure>
</div>
</div>
</section>
<section id="diversity-index-formulation" class="level3">
<h3 class="anchored" data-anchor-id="diversity-index-formulation">Diversity Index Formulation</h3>
<p>For some measures such as race and religious diversity, we formulated a Simpson Index to gauge the “diversity” of communities.</p>
<p><strong>Interpretation:</strong> The chance of picking two random individuals that have different race or beliefs.</p>
<p><strong>Formula:</strong></p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/simpson-formula.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="Simpson Index Formula"><img src="imgs/simpson-formula.png" class="img-fluid figure-img" width="350" alt="Simpson Index Formula"></a></p>
<figcaption>Simpson Index Formula</figcaption>
</figure>
</div>
</div>
<p><strong>Explanation:</strong> <span class="math inline">\(\frac{n(n-1)}{2}\)</span> is the number of pairs in the same group and <span class="math inline">\(\frac{N(N-1)}{2}\)</span> is the number of pairs among all individuals, so we take the sum of the number of pairs within groups divided by the total number of pairs.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/simpson-example.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13" title="Diversity Example"><img src="imgs/simpson-example.png" class="img-fluid figure-img" alt="Diversity Example"></a></p>
<figcaption>Diversity Example</figcaption>
</figure>
</div>
</div>
<p><span class="math display">\[D = 1 - \left( \frac{\sum n(n-1)}{N(N-1)} \right) = 1 - \left( \frac{130}{20(20-1)} \right) = 0.3421\]</span> Meaningfully, there is a chance of <strong>0.3421</strong> to randomly select two individuals of different origins.</p>
</section>
</section>
<section id="challenges" class="level2">
<h2 class="anchored" data-anchor-id="challenges">Challenges</h2>
<p>With such a lot of data sources and measures, our challenges mostly lie in the data preprocessing.</p>
<p><strong>1. Learning New Technologies:</strong> We needed to become proficient in new languages such as R and its associated packages, particularly for handling datasets and creating helpful visualizations. Our initial weeks of training on DataCamp significantly helped us get up to speed and positioned us better for the project’s demands.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/datacamp.png" class="lightbox" data-gallery="challenge" title="R Training"><img src="imgs/datacamp.png" class="img-fluid figure-img" width="750" alt="R Training"></a></p>
<figcaption>R Training</figcaption>
</figure>
</div>
</div>
<p><strong>2. Data Collection:</strong> Gathering measures for Built, Natural, Cultural, and Social capitals was already challenging but finding reliable data sources for them was even more difficult. We faced additional hurdles such as web scraping, dealing with datasets in various formats like geojson, and making API calls.</p>
<div style="text-align: center;">
<p><a href="imgs/collection-challenges.png" class="lightbox" data-gallery="challenge"><img src="imgs/collection-challenges.png" class="img-fluid" width="750"></a></p>
</div>
<p><strong>3. Feature Engineering:</strong> In data science, feature engineering involves transforming or creating new features from existing columns. This process demands a deep understanding of the dataset and precise calculations. For instance, in our events database project, we needed to create columns for Simpson index for diversity or ‘event_magnitude’, which is used to summarize the impact of specific events. This task sometimes required standardization, formula creation, and intuitive weighting.</p>
<div style="text-align: center;">
<p><a href="imgs/event_magnitude.png" class="lightbox" data-gallery="challenge"><img src="imgs/event_magnitude.png" class="img-fluid" width="750"></a></p>
</div>
</section>
<section id="tableau-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="tableau-dashboard">Tableau Dashboard</h2>
<section id="event-database" class="level3">
<h3 class="anchored" data-anchor-id="event-database">Event Database</h3>
<p>The Event Database Dashboard has three main components: a map to visualize the count of events within each county from 1946 to 2024, a time series line plot to track event counts over the years, and a table detailing the specific events and their information. Users can filter the data by event type (e.g., natural disasters, employment layoffs), adjust a year slider ranging from 1946 to 2024, and select a specific county.</p>
<section id="dashboard-filters" class="level4">
<h4 class="anchored" data-anchor-id="dashboard-filters">Dashboard Filters</h4>
<div style="text-align: center;">
<p><a href="imgs/eve.png" class="lightbox" data-gallery="event"><img src="imgs/eve.png" class="img-fluid"></a></p>
</div>
</section>
<section id="facility-closuresnursing-homes-schools-etc." class="level4" style="text-align: center;">
<h4 class="anchored" data-anchor-id="facility-closuresnursing-homes-schools-etc.">Facility Closures(Nursing homes, Schools, etc.)</h4>
</section>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/fac.png" class="lightbox" data-gallery="event" title="Line Plot &amp; Map for Facility Closures"><img src="imgs/fac.png" class="img-fluid figure-img" alt="Line Plot &amp; Map for Facility Closures"></a></p>
<figcaption>Line Plot &amp; Map for Facility Closures</figcaption>
</figure>
</div>
</div>
</section>
<section id="acs-time-series-analysis" class="level3">
<h3 class="anchored" data-anchor-id="acs-time-series-analysis">ACS Time Series Analysis</h3>
<p>We have developed a dashboard specifically for visualizing measures from the American Community Survey (ACS) data, one of the primary sources for our Community Capitals project. The ACS dashboard allows for easy access to data across different time periods (2012-2022), providing a consistent and convenient way to analyze trends over time. This dashboard aims to facilitate comprehensive insights into community changes, supporting informed decision-making and strategic planning.</p>
<section id="dashboard-filters-1" class="level4">
<h4 class="anchored" data-anchor-id="dashboard-filters-1">Dashboard Filters</h4>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/acsdash.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19" title="ACS Dashboard Filters"><img src="imgs/acsdash.png" class="img-fluid figure-img" alt="ACS Dashboard Filters"></a></p>
<figcaption>ACS Dashboard Filters</figcaption>
</figure>
</div>
</div>
</section>
<section id="acs-line-plot" class="level4">
<h4 class="anchored" data-anchor-id="acs-line-plot">ACS Line Plot</h4>
<p>The purpose of using a line plot is to observe how ACS measure values have fluctuated over the years and to compare trends across multiple cities over time. Unlike a bar chart, a line plot can effectively display data from 20-30 counties while maintaining visual appeal. This makes it an excellent tool for identifying patterns and drawing meaningful insights from complex datasets.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/compare.png" class="lightbox" data-gallery="acs" title="Line Plot comparing multiple places"><img src="imgs/compare.png" class="img-fluid figure-img" alt="Line Plot comparing multiple places"></a></p>
<figcaption>Line Plot comparing multiple places</figcaption>
</figure>
</div>
</div>
<p>The graph below displays the trend line for measure ‘Proportion of Employment in Agriculture, Forestry, Fishing and Hunting, and Mining Industry’ across various cities. The data reveals fluctuations in employment proportions over time. Notably, Ames and Ankeny exhibit a decline, whereas Iowa City and Urbandale show an increase over the past decade. However, it’s important to note that the margin of error for Iowa City in 2017 and 2022 is high, which suggests that the observed increase in these years might not be entirely accurate.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/meas.png" class="lightbox" data-gallery="acs" title="Line Plot for few places"><img src="imgs/meas.png" class="img-fluid figure-img" alt="Line Plot for few places"></a></p>
<figcaption>Line Plot for few places</figcaption>
</figure>
</div>
</div>
</section>
<section id="acs-bar-chart" class="level4">
<h4 class="anchored" data-anchor-id="acs-bar-chart">ACS Bar Chart</h4>
<p>The bar chart is crucial for comparing values across a few counties, as illustrated in the graph below. By displaying data for three cities—Ames, Ankeny, and Des Moines—across three years (2012, 2017, 2022) for the measure ‘Proportion of Single-Parent Households’, it effectively highlights trends and differences over time. This visualization allows users to easily identify patterns and make informed decisions based on the data. Furthermore, the ability to customize the chart by filtering specific years and adding more cities enhances its flexibility and utility, enabling a more tailored analysis.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/bar.png" class="lightbox" data-gallery="acs" title="ACS Bar Chart"><img src="imgs/bar.png" class="img-fluid figure-img" alt="ACS Bar Chart"></a></p>
<figcaption>ACS Bar Chart</figcaption>
</figure>
</div>
</div>
</section>
</section>
<section id="interesting-findings-with-acs-and-events" class="level3">
<h3 class="anchored" data-anchor-id="interesting-findings-with-acs-and-events">Interesting Findings with ACS and Events</h3>
<p>You don’t have to treat each dashboard as individuals; you may explore different dashboards and their measures to identify patterns or interesting findings. For example, by examining the <em>Proportion of Long-distance Commute to Work</em> measure from our ACS dashboard, we observed a significant decrease in commute times for ‘Ankeny’ post-2017. Without local job creation or economic development, such a decrease in commute time would be unusual. However, upon reviewing the economic development projects in our Events database, we found several projects initiated in Ankeny after 2017, which likely contributed to the reduced commute times. Local economic development has played a significant role; Ankeny has experienced substantial investments in new commercial and residential projects. For example, in 2022, the city permitted over $528 million in new construction, which includes both commercial and residential developments. This level of investment has been consistent over the past few years, indicating a sustained effort to improve local infrastructure and create jobs within the city itself. These developments likely provided more employment opportunities locally, reducing the need for residents to commute to Des Moines or Ames <a href="https://www.ankenyiowa.gov/CivicAlerts.aspx?AID=29">(Ankeny Economic Development)</a>. Additionally, the growing popularity of remote work in recent years must also be considered as a potential factor.</p>
<div style="text-align: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="imgs/eveac.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23" title="ACS Bar Chart &amp; Events Database Table"><img src="imgs/eveac.png" class="img-fluid figure-img" alt="ACS Bar Chart &amp; Events Database Table"></a></p>
<figcaption>ACS Bar Chart &amp; Events Database Table</figcaption>
</figure>
</div>
</div>
</section>
<section id="explorations-maps" class="level3">
<h3 class="anchored" data-anchor-id="explorations-maps">Explorations &amp; Maps</h3>
<div style="text-align: center;">
<p><a href="imgs/Capital Measures Filters.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24" title="Capital Measures Dashboard"><img src="imgs/Capital Measures Filters.png" class="img-fluid" alt="Capital Measures Dashboard"></a> <strong>Capital Measures Dashboard Filters</strong></p>
</div>
<div style="text-align: center;">
<p><a href="imgs/Simpson Index Race Diversity.png" class="lightbox" data-gallery="Maps" title="Simpson Index Race Diversity Map"><img src="imgs/Simpson Index Race Diversity.png" class="img-fluid" alt="Simpson Index Race Diversity Map"></a> <strong>Simpson Index Race Diversity</strong></p>
</div>
<p>This map is of the Simpson Index Race Diversity. The circle size represents that population size of each city. The cities with the highest measure values are dark blue. Storm Lake, Conesville, Columbus Junction, and Denison have the highest measure values. We believe this is because these cities have big distribution plants. The plants offer an employment opportunity for a diverse workforce.</p>
<div style="text-align: center;">
<p><a href="imgs/Heat Wave Expected Annual Loss.png" class="lightbox" data-gallery="Maps" title="Heat Wave Expected Annual Loss"><img src="imgs/Heat Wave Expected Annual Loss.png" class="img-fluid" alt="Heat Wave Expected Annual Loss"></a> <strong>Heat Wave Expected Annual Loss</strong></p>
</div>
<p>This map shows the expected annual loss in dollars due to heat waves. Certain areas could have higher expected annual loss when there are large urban areas which have more intense heatwaves due to the urban heat island effect. If a certain county has a vulnerable population, for example the elderly, young children, or people with health conditions it can lead to people paying expensive medical bills and a higher need for healthcare services. That can increase the expected annual loss in a community.</p>
</section>
<section id="bivariate-analysis" class="level3">
<h3 class="anchored" data-anchor-id="bivariate-analysis">Bivariate Analysis</h3>
<p>We have developed a dashboard specifically for visualizing measures from the American Community Survey (ACS) data, one of the primary sources for our Community Capitals project. The ACS dashboard allows for easy access to data across different time periods (2012-2022), providing a consistent and convenient way to analyze trends over time. This dashboard aims to facilitate comprehensive insights into community changes, supporting informed decision-making and strategic planning.</p>
<div style="text-align: center;">
<p><a href="imgs/Analysis Filter.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27" title="Analysis Filters"><img src="imgs/Analysis Filter.png" class="img-fluid" alt="Analysis Filters"></a> <strong>Analysis Dashboard Filters</strong></p>
</div>
<div style="text-align: center;">
<p><a href="imgs/Simpson Index, English Speakers.png" class="lightbox" data-gallery="Bivariate" title="Simpson Index Race Diversity and Proficient English Speakers"><img src="imgs/Simpson Index, English Speakers.png" class="img-fluid" alt="Simpson Index Race Diversity and Proficient English Speakers"></a> <strong>Models of Simpson Index Race Diversity and Proportion of Proficient English Speakers</strong></p>
</div>
<p>These bivariate plots show that there is a relationship between the Simpson Index race diversity and the proportion of proficient English speakers. The more diverse a community is the smaller the proportion of proficient English speakers.</p>
<div style="text-align: center;">
<p><a href="imgs/Correlation Filters.png" class="lightbox" data-gallery="Correlation" title="Correlation Filters"><img src="imgs/Correlation Filters.png" class="img-fluid" alt="Correlation Filters"></a> <strong>Correlation Dashboard Filters</strong></p>
</div>
<div style="text-align: center;">
<p><a href="imgs/Connectedness, Race Diversity.png" class="lightbox" data-gallery="Correlation" title="Correlation Between Economic Connectedness and Race Diversity"><img src="imgs/Connectedness, Race Diversity.png" class="img-fluid" alt="Correlation Between Economic Connectedness and Race Diversity"></a> <strong>Correlation Between Economic Connectedness and Simpson Index Race Diversity</strong></p>
</div>
<p>There is a high negative correlation between economic connectedness and race diversity. We believe this is due to cultural and language barriers. When a community has a higher diversity, it can create a cultural barrier when making friends. This could also be due to homophily social networks, which is when people connect with others that are similar to them which reduces economic connectedness. When there is a high economic connectedness, it can lead to a community having higher living costs. The people and families who have racially diverse backgrounds might have lower incomes which might lead them to move somewhere else. This can cause a lower Simpson Index for race diversity in a community.</p>
<div style="text-align: center;">
<p><a href="imgs/Connectedness, Voters.png" class="lightbox" data-gallery="Correlation" title="Correlation Between Economic Connectedness and Number of Voters"><img src="imgs/Connectedness, Voters.png" class="img-fluid" alt="Correlation Between Economic Connectedness and Number of Voters"></a> <strong>Correlation Between Economic Connectedness and Number of Voters</strong></p>
</div>
<p>There is a high correlation between economic connectedness and the number of voters. We believe this could be because economically-connected people may have better education which leads to a greater understanding of politics. Economic connected areas also have a greater access to information, which leads to a greater awareness when it comes to elections, and issues. This leads to people being more informed and engaged when it comes to voting. When there are more people voting in a community there might be more civic organizations and political parties. That can increase the economic connectedness of a community.</p>
</section>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<section id="implications-for-decision-makers" class="level2">
<h2 class="anchored" data-anchor-id="implications-for-decision-makers">Implications for Decision-Makers</h2>
<p>Our project provides a foundational framework for decision-makers to:</p>
<ul>
<li><strong>Strategically Plan Resource Allocation:</strong> Utilize detailed insights from our dashboards to guide the allocation of resources and investment in community capitals.</li>
<li><strong>Enhance Community Well-being:</strong> Implement policies and initiatives that address identified strengths and weaknesses, fostering overall community resilience and sustainability.</li>
</ul>
</section>
<section id="future-work" class="level2">
<h2 class="anchored" data-anchor-id="future-work">Future Work</h2>
<p>While our project has achieved significant milestones, there are several areas for future development:</p>
<ul>
<li><strong>Expanding Data Sources:</strong> Incorporate additional data sources to further enrich the dataset and capture more dimensions of community capitals.</li>
<li><strong>Advanced Modeling:</strong> Develop predictive models to forecast future trends and outcomes based on current data. This could involve using machine learning techniques to identify patterns and make predictions about the impact of changes in community capitals over time.</li>
</ul>
</section>
<section id="acknowledgment" class="level2">
<h2 class="anchored" data-anchor-id="acknowledgment">Acknowledgment</h2>
<p>We would like to express our gratitude to our graduate fellow, project advisor, sponsors, and especially our program coordinator, Harun, for their invaluable support and guidance throughout this project. Their expertise and feedback have been instrumental in shaping our approach and helping us achieve our objectives.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","openEffect":"zoom","selector":".lightbox","descPosition":"bottom","loop":false});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>